{ storage
    (pair (pair (address %admin)
                (big_map %boards
                   string
                   (pair (pair (pair (map %deck int (map int int)) (bool %draw))
                               (pair (map %metaData string string) (int %nbMoves)))
                         (pair (pair (int %nextPlayer) (address %player1))
                               (pair (address %player2) (int %winner))))))
          (pair (map %metaData string string) (bool %paused))) ;
  parameter
    (or (or (pair %build (string %game) (pair (address %player1) (address %player2)))
            (or (string %deleteGame)
                (pair %play (pair (string %game) (int %i)) (pair (int %j) (int %move)))))
        (or (pair %setGameMetaData (string %game) (pair (string %name) (string %value)))
            (or (pair %setMetaData (string %name) (string %value)) (bool %setPause)))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { IF_LEFT
               { { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CDR ;
                   CDR ;
                   IF { { SWAP ; DUP ; DUG 2 ; CAR ; CAR ; SENDER ; COMPARE ; EQ } }
                      { PUSH bool True } ;
                   IF { {} }
                      { { PUSH string
                               "WrongCondition: (~ self.data.paused) | (sp.sender == self.data.admin)" ;
                          FAILWITH } } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CDR ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   MEM ;
                   IF { { PUSH string "WrongCondition: ~ (self.data.boards.contains(params.game))" ;
                          FAILWITH } }
                      { {} } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CAR ;
                   SWAP ;
                   CDR ;
                   PUSH int 0 ;
                   DIG 4 ;
                   DUP ;
                   DUG 5 ;
                   CDR ;
                   CDR ;
                   PAIR %player2 %winner ;
                   DIG 4 ;
                   DUP ;
                   DUG 5 ;
                   CDR ;
                   CAR ;
                   PUSH int 1 ;
                   PAIR %nextPlayer %player1 ;
                   PAIR ;
                   PUSH (pair (pair (map %deck int (map int int)) (bool %draw))
                              (pair (map %metaData string string) (int %nbMoves)))
                        (Pair (Pair { Elt 0 { Elt 0 0 ; Elt 1 0 ; Elt 2 0 } ;
                                      Elt 1 { Elt 0 0 ; Elt 1 0 ; Elt 2 0 } ;
                                      Elt 2 { Elt 0 0 ; Elt 1 0 ; Elt 2 0 } }
                                    False)
                              (Pair {} 0)) ;
                   PAIR ;
                   SOME ;
                   DIG 4 ;
                   DUP ;
                   DUG 5 ;
                   CAR ;
                   UPDATE ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   DUG 2 ;
                   DROP 2 } }
               { IF_LEFT
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       SENDER ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       NONE (pair (pair (pair (map %deck int (map int int)) (bool %draw))
                                        (pair (map %metaData string string) (int %nbMoves)))
                                  (pair (pair (int %nextPlayer) (address %player1))
                                        (pair (address %player2) (int %winner)))) ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       UPDATE ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       DUG 2 ;
                       DROP 2 } }
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       CDR ;
                       IF { { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } }
                          { {} } ;
                       PUSH int 0 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CDR ;
                       CDR ;
                       CDR ;
                       COMPARE ;
                       EQ ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CDR ;
                              NOT } }
                          { PUSH bool False } ;
                       IF { {} }
                          { { PUSH string
                                   "WrongCondition: (self.data.boards[params.game].winner == 0) & (~ self.data.boards[params.game].draw)" ;
                              FAILWITH } } ;
                       DUP ;
                       CAR ;
                       CDR ;
                       PUSH int 0 ;
                       SWAP ;
                       COMPARE ;
                       GE ;
                       IF { { DUP ; CAR ; CDR ; PUSH int 3 ; COMPARE ; GT } }
                          { PUSH bool False } ;
                       IF { {} }
                          { { PUSH string "WrongCondition: (params.i >= 0) & (params.i < 3)" ; FAILWITH } } ;
                       DUP ;
                       CDR ;
                       CAR ;
                       PUSH int 0 ;
                       SWAP ;
                       COMPARE ;
                       GE ;
                       IF { { DUP ; CDR ; CAR ; PUSH int 3 ; COMPARE ; GT } }
                          { PUSH bool False } ;
                       IF { {} }
                          { { PUSH string "WrongCondition: (params.j >= 0) & (params.j < 3)" ; FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CDR ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CDR ;
                       CAR ;
                       CAR ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       CDR ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string
                                   "WrongCondition: params.move == self.data.boards[params.game].nextPlayer" ;
                              FAILWITH } } ;
                       PUSH int 0 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CAR ;
                       CAR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CDR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string
                                   "WrongCondition: self.data.boards[params.game].deck[params.i][params.j] == 0" ;
                              FAILWITH } } ;
                       DUP ;
                       CDR ;
                       CDR ;
                       PUSH int 1 ;
                       COMPARE ;
                       EQ ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CDR ;
                              CAR ;
                              CDR ;
                              SENDER ;
                              COMPARE ;
                              EQ ;
                              IF { {} }
                                 { { PUSH string "WrongCondition: sp.sender == self.data.boards[params.game].player1" ;
                                     FAILWITH } } } }
                          { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CDR ;
                              CDR ;
                              CAR ;
                              SENDER ;
                              COMPARE ;
                              EQ ;
                              IF { {} }
                                 { { PUSH string "WrongCondition: sp.sender == self.data.boards[params.game].player2" ;
                                     FAILWITH } } } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       CAR ;
                       CAR ;
                       DUP ;
                       DUG 2 ;
                       GET ;
                       IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       CDR ;
                       DIG 8 ;
                       DUP ;
                       DUG 9 ;
                       CAR ;
                       CDR ;
                       DIG 8 ;
                       DUP ;
                       DUG 9 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CDR ;
                       CAR ;
                       CAR ;
                       PUSH int 3 ;
                       SUB ;
                       PAIR ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SOME ;
                       SWAP ;
                       UPDATE ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       DUG 2 ;
                       SWAP ;
                       DROP ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       CAR ;
                       CAR ;
                       DUP ;
                       DUG 2 ;
                       GET ;
                       IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       DIG 9 ;
                       DUP ;
                       DUG 10 ;
                       CAR ;
                       CDR ;
                       DUP ;
                       DUG 2 ;
                       GET ;
                       IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                       DIG 10 ;
                       DUP ;
                       DUG 11 ;
                       CDR ;
                       CDR ;
                       SOME ;
                       DIG 11 ;
                       DUP ;
                       DUG 12 ;
                       CDR ;
                       CAR ;
                       UPDATE ;
                       SOME ;
                       SWAP ;
                       UPDATE ;
                       PAIR ;
                       PAIR ;
                       PAIR ;
                       SOME ;
                       SWAP ;
                       UPDATE ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       DUG 2 ;
                       SWAP ;
                       DROP ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       CAR ;
                       CAR ;
                       DUP ;
                       DUG 2 ;
                       GET ;
                       IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       CAR ;
                       PUSH int 1 ;
                       DIG 9 ;
                       DUP ;
                       DUG 10 ;
                       CAR ;
                       CDR ;
                       DIG 9 ;
                       DUP ;
                       DUG 10 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CDR ;
                       CDR ;
                       ADD ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       SOME ;
                       SWAP ;
                       UPDATE ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       DUG 2 ;
                       SWAP ;
                       DROP ;
                       PUSH int 0 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CAR ;
                       CAR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                       PUSH int 0 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:71" ; FAILWITH } } {} ;
                       COMPARE ;
                       NEQ ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                              PUSH int 1 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:71" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:71" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:71" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:71" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              DIG 4 ;
                              DUP ;
                              DUG 5 ;
                              CAR ;
                              CAR ;
                              DUP ;
                              DUG 2 ;
                              GET ;
                              IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              CAR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CDR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CDR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:52" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:72" ; FAILWITH } } {} ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SOME ;
                              SWAP ;
                              UPDATE ;
                              SWAP ;
                              PAIR ;
                              PAIR ;
                              DUG 2 ;
                              SWAP ;
                              DROP } }
                          { {} } ;
                       PUSH int 0 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CAR ;
                       CAR ;
                       PUSH int 0 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:64" ; FAILWITH } } {} ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CDR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                       COMPARE ;
                       NEQ ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 1 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:64" ; FAILWITH } } {} ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CDR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:64" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CDR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:64" ; FAILWITH } } {} ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CDR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:64" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CDR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              DIG 4 ;
                              DUP ;
                              DUG 5 ;
                              CAR ;
                              CAR ;
                              DUP ;
                              DUG 2 ;
                              GET ;
                              IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              CAR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CDR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:64" ; FAILWITH } } {} ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CDR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:53" ; FAILWITH } } {} ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SOME ;
                              SWAP ;
                              UPDATE ;
                              SWAP ;
                              PAIR ;
                              PAIR ;
                              DUG 2 ;
                              SWAP ;
                              DROP } }
                          { {} } ;
                       PUSH int 0 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CAR ;
                       CAR ;
                       PUSH int 0 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                       PUSH int 0 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                       COMPARE ;
                       NEQ ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 1 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              PUSH int 1 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              DIG 4 ;
                              DUP ;
                              DUG 5 ;
                              CAR ;
                              CAR ;
                              DUP ;
                              DUG 2 ;
                              GET ;
                              IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              CAR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CDR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:65" ; FAILWITH } } {} ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SOME ;
                              SWAP ;
                              UPDATE ;
                              SWAP ;
                              PAIR ;
                              PAIR ;
                              DUG 2 ;
                              SWAP ;
                              DROP } }
                          { {} } ;
                       PUSH int 0 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CAR ;
                       CAR ;
                       PUSH int 0 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                       PUSH int 2 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                       COMPARE ;
                       NEQ ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 1 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              PUSH int 1 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              DIG 4 ;
                              DUP ;
                              DUG 5 ;
                              CAR ;
                              CAR ;
                              DUP ;
                              DUG 2 ;
                              GET ;
                              IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              CAR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CDR ;
                              DIG 8 ;
                              DUP ;
                              DUG 9 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CAR ;
                              CAR ;
                              CAR ;
                              PUSH int 0 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              PUSH int 2 ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:66" ; FAILWITH } } {} ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SWAP ;
                              PAIR ;
                              SOME ;
                              SWAP ;
                              UPDATE ;
                              SWAP ;
                              PAIR ;
                              PAIR ;
                              DUG 2 ;
                              SWAP ;
                              DROP } }
                          { {} } ;
                       PUSH int 9 ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                       CAR ;
                       CDR ;
                       CDR ;
                       COMPARE ;
                       EQ ;
                       IF { { PUSH int 0 ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CDR ;
                              DIG 2 ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              GET ;
                              IF_NONE { { PUSH string "Get-item:50" ; FAILWITH } } {} ;
                              CDR ;
                              CDR ;
                              CDR ;
                              COMPARE ;
                              EQ } }
                          { PUSH bool False } ;
                       IF { { SWAP ;
                              DUP ;
                              DUG 2 ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              DUP ;
                              CAR ;
                              SWAP ;
                              CDR ;
                              DUP ;
                              DIG 4 ;
                              DUP ;
                              DUG 5 ;
                              CAR ;
                              CAR ;
                              DUP ;
                              DUG 2 ;
                              GET ;
                              IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              DUP ;
                              CDR ;
                              SWAP ;
                              CAR ;
                              CAR ;
                              PUSH bool True ;
                              SWAP ;
                              PAIR ;
                              PAIR ;
                              PAIR ;
                              SOME ;
                              SWAP ;
                              UPDATE ;
                              SWAP ;
                              PAIR ;
                              PAIR ;
                              DUG 2 ;
                              SWAP ;
                              DROP } }
                          { {} } ;
                       DROP } } } }
           { IF_LEFT
               { { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   SENDER ;
                   COMPARE ;
                   EQ ;
                   IF { PUSH bool True }
                      { { SWAP ;
                          DUP ;
                          DUG 2 ;
                          CAR ;
                          CDR ;
                          SWAP ;
                          DUP ;
                          DUG 2 ;
                          CAR ;
                          GET ;
                          IF_NONE { { PUSH string "Get-item:41" ; FAILWITH } } {} ;
                          CDR ;
                          CAR ;
                          CDR ;
                          SENDER ;
                          COMPARE ;
                          EQ } } ;
                   IF { {} }
                      { { PUSH string
                               "WrongCondition: (sp.sender == self.data.admin) | (sp.sender == self.data.boards[params.game].player1)" ;
                          FAILWITH } } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CAR ;
                   SWAP ;
                   CDR ;
                   DUP ;
                   DIG 4 ;
                   DUP ;
                   DUG 5 ;
                   CAR ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CAR ;
                   SWAP ;
                   CDR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DIG 8 ;
                   DUP ;
                   DUG 9 ;
                   CDR ;
                   CDR ;
                   SOME ;
                   DIG 9 ;
                   DUP ;
                   DUG 10 ;
                   CDR ;
                   CAR ;
                   UPDATE ;
                   PAIR ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   DUG 2 ;
                   DROP 2 } }
               { IF_LEFT
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DIG 3 ;
                       DUP ;
                       DUG 4 ;
                       CDR ;
                       SOME ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       CAR ;
                       UPDATE ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       DUG 2 ;
                       DROP 2 } }
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       SENDER ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       CAR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       DUG 2 ;
                       DROP 2 } } } } ;
         NIL operation ;
         PAIR } }
