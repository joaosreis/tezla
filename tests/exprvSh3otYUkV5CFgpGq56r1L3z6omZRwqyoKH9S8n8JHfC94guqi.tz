{ storage
    (pair (map %multisigs
             int
             (pair (pair (list %groups
                            (pair (pair (int %contractWeight)
                                        (pair (bool %ok)
                                              (list %participants (pair (bool %hasVoted) (pair (address %id) (int %weight))))))
                                  (pair (pair (int %thresholdVoters) (int %thresholdWeight))
                                        (pair (int %voters) (int %weight)))))
                         (pair (int %groupsOK) (string %name)))
                   (pair (pair (bool %ok) (int %thresholdGroupsOK))
                         (pair (int %thresholdWeight) (int %weight)))))
          (int %nbMultisigs)) ;
  parameter
    (or (pair %build
           (pair (list %groups
                    (pair (pair (int %contractWeight)
                                (pair (bool %ok)
                                      (list %participants (pair (bool %hasVoted) (pair (address %id) (int %weight))))))
                          (pair (pair (int %thresholdVoters) (int %thresholdWeight))
                                (pair (int %voters) (int %weight)))))
                 (pair (int %groupsOK) (string %name)))
           (pair (pair (bool %ok) (int %thresholdGroupsOK))
                 (pair (int %thresholdWeight) (int %weight))))
        (pair %sign (int %contractId) (pair (string %contractName) (address %id)))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { { SWAP ;
               DUP ;
               DUG 2 ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               DIG 2 ;
               DUP ;
               DUG 3 ;
               SOME ;
               DIG 4 ;
               DUP ;
               DUG 5 ;
               CDR ;
               UPDATE ;
               PAIR ;
               DUG 2 ;
               SWAP ;
               DROP ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CAR ;
               PUSH int 1 ;
               DIG 3 ;
               DUP ;
               DUG 4 ;
               CDR ;
               ADD ;
               SWAP ;
               PAIR ;
               DUG 2 ;
               DROP 2 } }
           { { DUP ;
               CDR ;
               CDR ;
               SENDER ;
               COMPARE ;
               EQ ;
               IF { {} }
                  { { PUSH string "WrongCondition: params.id == sp.sender" ; FAILWITH } } ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CAR ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CAR ;
               GET ;
               IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
               CAR ;
               CDR ;
               CDR ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CDR ;
               CAR ;
               COMPARE ;
               EQ ;
               IF { {} }
                  { { PUSH string
                           "WrongCondition: params.contractName == self.data.multisigs[params.contractId].name" ;
                      FAILWITH } } ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CAR ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CAR ;
               GET ;
               IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
               CAR ;
               CAR ;
               MAP { DUP ;
                     CAR ;
                     CDR ;
                     CDR ;
                     MAP { DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CDR ;
                           CDR ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           CAR ;
                           COMPARE ;
                           EQ ;
                           IF { { DUP ;
                                  CAR ;
                                  IF { { PUSH string "WrongCondition: ~ participant.hasVoted" ; FAILWITH } }
                                     { {} } ;
                                  DUP ;
                                  CDR ;
                                  PUSH bool True ;
                                  PAIR ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  CAR ;
                                  DIG 3 ;
                                  DUP ;
                                  DUG 4 ;
                                  CDR ;
                                  CDR ;
                                  DIG 5 ;
                                  DUP ;
                                  DUG 6 ;
                                  CDR ;
                                  CDR ;
                                  CDR ;
                                  ADD ;
                                  SWAP ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  DUG 2 ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  CDR ;
                                  PUSH int 1 ;
                                  DIG 5 ;
                                  DUP ;
                                  DUG 6 ;
                                  CDR ;
                                  CDR ;
                                  CAR ;
                                  ADD ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  DUG 2 ;
                                  SWAP ;
                                  DROP ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CAR ;
                                  CDR ;
                                  CAR ;
                                  IF { PUSH bool False }
                                     { { SWAP ;
                                         DUP ;
                                         DUG 2 ;
                                         CDR ;
                                         CDR ;
                                         CAR ;
                                         DIG 2 ;
                                         DUP ;
                                         DUG 3 ;
                                         CDR ;
                                         CAR ;
                                         CAR ;
                                         COMPARE ;
                                         LE } } ;
                                  IF { { SWAP ;
                                         DUP ;
                                         DUG 2 ;
                                         CDR ;
                                         CDR ;
                                         CDR ;
                                         DIG 2 ;
                                         DUP ;
                                         DUG 3 ;
                                         CDR ;
                                         CAR ;
                                         CDR ;
                                         COMPARE ;
                                         LE } }
                                     { PUSH bool False } ;
                                  IF { { SWAP ;
                                         DUP ;
                                         DUG 2 ;
                                         DUP ;
                                         CDR ;
                                         SWAP ;
                                         CAR ;
                                         DUP ;
                                         CAR ;
                                         SWAP ;
                                         CDR ;
                                         CDR ;
                                         PUSH bool True ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         DUG 2 ;
                                         SWAP ;
                                         DROP ;
                                         DIG 3 ;
                                         DUP ;
                                         DUG 4 ;
                                         DUP ;
                                         CDR ;
                                         SWAP ;
                                         CAR ;
                                         DUP ;
                                         DIG 5 ;
                                         DUP ;
                                         DUG 6 ;
                                         CAR ;
                                         DUP ;
                                         DUG 2 ;
                                         GET ;
                                         IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                                         DUP ;
                                         CAR ;
                                         SWAP ;
                                         CDR ;
                                         DUP ;
                                         CAR ;
                                         SWAP ;
                                         CDR ;
                                         CAR ;
                                         DIG 7 ;
                                         DUP ;
                                         DUG 8 ;
                                         CAR ;
                                         CAR ;
                                         DIG 10 ;
                                         DUP ;
                                         DUG 11 ;
                                         CAR ;
                                         DIG 10 ;
                                         DUP ;
                                         DUG 11 ;
                                         CAR ;
                                         GET ;
                                         IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                         CDR ;
                                         CDR ;
                                         CDR ;
                                         ADD ;
                                         SWAP ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         SOME ;
                                         SWAP ;
                                         UPDATE ;
                                         PAIR ;
                                         DUG 4 ;
                                         DIG 3 ;
                                         DROP ;
                                         DIG 3 ;
                                         DUP ;
                                         DUG 4 ;
                                         DUP ;
                                         CDR ;
                                         SWAP ;
                                         CAR ;
                                         DUP ;
                                         DIG 5 ;
                                         DUP ;
                                         DUG 6 ;
                                         CAR ;
                                         DUP ;
                                         DUG 2 ;
                                         GET ;
                                         IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                                         DUP ;
                                         CDR ;
                                         SWAP ;
                                         CAR ;
                                         DUP ;
                                         CAR ;
                                         SWAP ;
                                         CDR ;
                                         CDR ;
                                         PUSH int 1 ;
                                         DIG 10 ;
                                         DUP ;
                                         DUG 11 ;
                                         CAR ;
                                         DIG 10 ;
                                         DUP ;
                                         DUG 11 ;
                                         CAR ;
                                         GET ;
                                         IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                         CAR ;
                                         CDR ;
                                         CAR ;
                                         ADD ;
                                         PAIR ;
                                         SWAP ;
                                         PAIR ;
                                         PAIR ;
                                         SOME ;
                                         SWAP ;
                                         UPDATE ;
                                         PAIR ;
                                         DUG 4 ;
                                         DIG 3 ;
                                         DROP ;
                                         DIG 3 ;
                                         DUP ;
                                         DUG 4 ;
                                         CAR ;
                                         DIG 3 ;
                                         DUP ;
                                         DUG 4 ;
                                         CAR ;
                                         GET ;
                                         IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                         CDR ;
                                         CAR ;
                                         CAR ;
                                         IF { PUSH bool False }
                                            { { DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                CAR ;
                                                DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                CAR ;
                                                GET ;
                                                IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                                CAR ;
                                                CDR ;
                                                CAR ;
                                                DIG 4 ;
                                                DUP ;
                                                DUG 5 ;
                                                CAR ;
                                                DIG 4 ;
                                                DUP ;
                                                DUG 5 ;
                                                CAR ;
                                                GET ;
                                                IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                                CDR ;
                                                CAR ;
                                                CDR ;
                                                COMPARE ;
                                                LE } } ;
                                         IF { { DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                CAR ;
                                                DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                CAR ;
                                                GET ;
                                                IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                                CDR ;
                                                CDR ;
                                                CDR ;
                                                DIG 4 ;
                                                DUP ;
                                                DUG 5 ;
                                                CAR ;
                                                DIG 4 ;
                                                DUP ;
                                                DUG 5 ;
                                                CAR ;
                                                GET ;
                                                IF_NONE { { PUSH string "Get-item:24" ; FAILWITH } } {} ;
                                                CDR ;
                                                CDR ;
                                                CAR ;
                                                COMPARE ;
                                                LE } }
                                            { PUSH bool False } ;
                                         IF { { DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                DUP ;
                                                CDR ;
                                                SWAP ;
                                                CAR ;
                                                DUP ;
                                                DIG 5 ;
                                                DUP ;
                                                DUG 6 ;
                                                CAR ;
                                                DUP ;
                                                DUG 2 ;
                                                GET ;
                                                IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                                                DUP ;
                                                CAR ;
                                                SWAP ;
                                                CDR ;
                                                DUP ;
                                                CDR ;
                                                SWAP ;
                                                CAR ;
                                                CDR ;
                                                PUSH bool True ;
                                                PAIR ;
                                                PAIR ;
                                                SWAP ;
                                                PAIR ;
                                                SOME ;
                                                SWAP ;
                                                UPDATE ;
                                                PAIR ;
                                                DUG 4 ;
                                                DIG 3 ;
                                                DROP } }
                                            { {} } } }
                                     { {} } } }
                              { {} } } ;
                     SWAP ;
                     DUP ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     CAR ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     DROP ;
                     SWAP ;
                     DROP } ;
               SWAP ;
               DIG 2 ;
               DUP ;
               DUG 3 ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               DUP ;
               DIG 3 ;
               DUP ;
               DUG 4 ;
               CAR ;
               DUP ;
               DUG 2 ;
               GET ;
               IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               CDR ;
               DIG 6 ;
               DUP ;
               DUG 7 ;
               PAIR ;
               PAIR ;
               SOME ;
               SWAP ;
               UPDATE ;
               PAIR ;
               DUG 3 ;
               DROP 3 } } ;
         NIL operation ;
         PAIR } }
