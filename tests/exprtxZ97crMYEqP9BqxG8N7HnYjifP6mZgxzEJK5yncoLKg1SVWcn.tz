{ storage
    (pair (pair (pair (pair (address %administrator) (address %commissionBeneficiary))
                      (pair (string %country)
                            (pair (nat %currentTokenId) (address %distributionCurrenyAddress))))
                (pair (pair (string %distributionCurrenySymbol) (string %fullName))
                      (pair (big_map %ledger address (set nat)) (pair (nat %maxAmount) (nat %maxPeriod)))))
          (pair (pair (pair (nat %minAmount) (nat %minPeriod))
                      (pair (string %name)
                            (pair (big_map %operators (pair (address %owner) (address %operator)) unit)
                                  (int %ownedTokensCount))))
                (pair (pair (bool %paused) (string %shortName))
                      (pair (string %symbol)
                            (pair (big_map %tokens
                                     nat
                                     (pair (timestamp %issueTime)
                                           (pair (nat %period) (pair (nat %interestRate) (pair (nat %amount) (address %owner))))))
                                  (string %website)))))) ;
  parameter
    (or (or (or (pair %balance_of
                   (contract %callback (pair (nat %balance) (address %owner)))
                   (address %owner))
                (nat %burn))
            (or (pair %is_operator
                   (contract %callback
                      (pair (bool %is_operator) (pair %operator (address %operator) (address %owner))))
                   (pair %operator (address %operator) (address %owner)))
                (or (pair %mint (pair (nat %amount) (nat %amout)) (pair (nat %period) (address %to)))
                    (contract %permissions_descriptor
                       (pair (pair (option %custom (pair (option %config_api address) (string %tag)))
                                   (or %operator
                                      (unit %no_transfer)
                                      (or (unit %owner_or_operator_transfer) (unit %owner_transfer))))
                             (pair (or %receiver
                                      (unit %optional_owner_hook)
                                      (or (unit %owner_no_op) (unit %required_owner_hook)))
                                   (or %sender
                                      (unit %optional_owner_hook)
                                      (or (unit %owner_no_op) (unit %required_owner_hook)))))))))
        (or (or (address %set_administrator)
                (or (bool %set_pause)
                    (pair %token_metadata
                       (contract %callback
                          (pair (timestamp %issueTime)
                                (pair (nat %period) (pair (nat %interestRate) (pair (nat %amount) (address %owner))))))
                       (nat %token_id))))
            (or (contract %total_supply int)
                (or (list %transfer (pair (address %from_) (pair (address %to_) (nat %token_id))))
                    (list %update_operators
                       (or (pair %add_operator (address %operator) (address %owner))
                           (pair %remove_operator (address %operator) (address %owner)))))))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       CDR ;
                       CAR ;
                       CAR ;
                       IF { { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } }
                          { {} } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       MEM ;
                       IF { {} } { { PUSH string "USER NOT FOUND" ; FAILWITH } } ;
                       DUP ;
                       CAR ;
                       NIL operation ;
                       SWAP ;
                       PUSH mutez 0 ;
                       DIG 3 ;
                       DUP ;
                       DUG 4 ;
                       CDR ;
                       NIL nat ;
                       DIG 6 ;
                       DUP ;
                       DUG 7 ;
                       CAR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 6 ;
                       DUP ;
                       DUG 7 ;
                       CDR ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:510" ; FAILWITH } } {} ;
                       ITER { CONS } ;
                       NIL nat ;
                       SWAP ;
                       ITER { CONS } ;
                       DIG 5 ;
                       DROP ;
                       SIZE ;
                       PAIR %balance %owner ;
                       TRANSFER_TOKENS ;
                       CONS } }
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       CAR ;
                       CAR ;
                       SENDER ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string "WrongCondition: sp.sender == self.data.administrator" ;
                              FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       MEM ;
                       IF { {} } { { PUSH string "TOKEN NOT FOUND" ; FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CAR ;
                       PUSH nat 2628000 ;
                       DIG 3 ;
                       DUP ;
                       DUG 4 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 3 ;
                       DUP ;
                       DUG 4 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CDR ;
                       CAR ;
                       MUL ;
                       INT ;
                       ADD ;
                       NOW ;
                       COMPARE ;
                       GT ;
                       IF { {} } { { PUSH string "NOT REDEEMABLE" ; FAILWITH } } ;
                       NIL operation ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CAR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CONTRACT %transfer (pair (int %amount) (pair (address %f) (address %t))) ;
                       IF_NONE { { PUSH unit Unit ; FAILWITH } } { {} } ;
                       PUSH mutez 0 ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       DIG 5 ;
                       DUP ;
                       DUG 6 ;
                       CAR ;
                       CAR ;
                       CAR ;
                       CDR ;
                       PAIR %f %t ;
                       PUSH nat 100 ;
                       PUSH nat 12 ;
                       DIG 7 ;
                       DUP ;
                       DUG 8 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 7 ;
                       DUP ;
                       DUG 8 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CDR ;
                       CAR ;
                       EDIV ;
                       IF_NONE { { PUSH string "division by zero" ; FAILWITH } } { CAR } ;
                       DIG 7 ;
                       DUP ;
                       DUG 8 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 7 ;
                       DUP ;
                       DUG 8 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 8 ;
                       DUP ;
                       DUG 9 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 8 ;
                       DUP ;
                       DUG 9 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       MUL ;
                       MUL ;
                       EDIV ;
                       IF_NONE { { PUSH string "division by zero" ; FAILWITH } } { CAR } ;
                       INT ;
                       PAIR %amount ;
                       TRANSFER_TOKENS ;
                       CONS ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       DIG 8 ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 8 ;
                       DUP ;
                       DUG 9 ;
                       GET ;
                       IF_NONE { { PUSH string "Get-item:409" ; FAILWITH } } {} ;
                       CDR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       DUP ;
                       DUG 2 ;
                       GET ;
                       IF_NONE { { PUSH string "set_in_top-nil-some" ; FAILWITH } } {} ;
                       PUSH bool False ;
                       DIG 9 ;
                       DUP ;
                       DUG 10 ;
                       UPDATE ;
                       SOME ;
                       SWAP ;
                       UPDATE ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       DUG 2 ;
                       DIG 2 ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       NONE (pair (timestamp %issueTime)
                                  (pair (nat %period) (pair (nat %interestRate) (pair (nat %amount) (address %owner))))) ;
                       DIG 8 ;
                       UPDATE ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       DUP ;
                       CAR ;
                       SWAP ;
                       CDR ;
                       CAR ;
                       PUSH int 1 ;
                       DIG 7 ;
                       CDR ;
                       CAR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       SUB ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       SWAP ;
                       PAIR ;
                       SWAP } } }
               { IF_LEFT
                   { { DUP ;
                       CAR ;
                       NIL operation ;
                       SWAP ;
                       PUSH mutez 0 ;
                       DIG 3 ;
                       DUP ;
                       DUG 4 ;
                       CDR ;
                       DIG 5 ;
                       DUP ;
                       DUG 6 ;
                       CDR ;
                       CAR ;
                       CDR ;
                       CDR ;
                       CAR ;
                       DIG 5 ;
                       DUP ;
                       DUG 6 ;
                       CDR ;
                       CAR ;
                       DIG 6 ;
                       CDR ;
                       CDR ;
                       PAIR %owner %operator ;
                       MEM ;
                       PAIR %is_operator %operator ;
                       TRANSFER_TOKENS ;
                       CONS } }
                   { IF_LEFT
                       { { SWAP ;
                           DUP ;
                           DUG 2 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           CAR ;
                           SENDER ;
                           COMPARE ;
                           EQ ;
                           IF { {} }
                              { { PUSH string "WrongCondition: sp.sender == self.data.administrator" ;
                                  FAILWITH } } ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           CAR ;
                           CAR ;
                           CAR ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CAR ;
                           CAR ;
                           COMPARE ;
                           GE ;
                           IF { { SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CAR ;
                                  CDR ;
                                  CDR ;
                                  CDR ;
                                  CAR ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CAR ;
                                  CAR ;
                                  COMPARE ;
                                  LE } }
                              { PUSH bool False } ;
                           IF { {} } { { PUSH string "INSUFFICIENT_AMOUNT" ; FAILWITH } } ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           CAR ;
                           CAR ;
                           CDR ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           CAR ;
                           COMPARE ;
                           GE ;
                           IF { { SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CAR ;
                                  CDR ;
                                  CDR ;
                                  CDR ;
                                  CDR ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CDR ;
                                  CAR ;
                                  COMPARE ;
                                  LE } }
                              { PUSH bool False } ;
                           IF { {} } { { PUSH string "PERIOD_ERROR" ; FAILWITH } } ;
                           NIL operation ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CAR ;
                           CAR ;
                           CDR ;
                           CDR ;
                           CDR ;
                           CONTRACT %transfer (pair (int %amount) (pair (address %f) (address %t))) ;
                           IF_NONE { { PUSH unit Unit ; FAILWITH } } { {} } ;
                           PUSH mutez 0 ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           CDR ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           CDR ;
                           CDR ;
                           PAIR %f %t ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           CAR ;
                           CAR ;
                           INT ;
                           PAIR %amount ;
                           TRANSFER_TOKENS ;
                           CONS ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CAR ;
                           CDR ;
                           CDR ;
                           CAR ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CDR ;
                           CDR ;
                           MEM ;
                           IF { { DIG 2 ;
                                  DUP ;
                                  DUG 3 ;
                                  DUP ;
                                  CDR ;
                                  SWAP ;
                                  CAR ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  DUP ;
                                  CDR ;
                                  SWAP ;
                                  CAR ;
                                  DUP ;
                                  DIG 7 ;
                                  DUP ;
                                  DUG 8 ;
                                  CDR ;
                                  CDR ;
                                  DUP ;
                                  DUG 2 ;
                                  GET ;
                                  IF_NONE { { PUSH string "set_in_top-nil-some" ; FAILWITH } } {} ;
                                  PUSH bool True ;
                                  DIG 10 ;
                                  CAR ;
                                  CAR ;
                                  CDR ;
                                  CDR ;
                                  CAR ;
                                  UPDATE ;
                                  SOME ;
                                  SWAP ;
                                  UPDATE ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  PAIR ;
                                  DUG 2 } }
                              { { DIG 2 ;
                                  DUP ;
                                  DUG 3 ;
                                  DUP ;
                                  CDR ;
                                  SWAP ;
                                  CAR ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  DUP ;
                                  CAR ;
                                  SWAP ;
                                  CDR ;
                                  DUP ;
                                  CDR ;
                                  SWAP ;
                                  CAR ;
                                  PUSH (set nat) {} ;
                                  PUSH bool True ;
                                  DIG 9 ;
                                  CAR ;
                                  CAR ;
                                  CDR ;
                                  CDR ;
                                  CAR ;
                                  UPDATE ;
                                  SOME ;
                                  DIG 7 ;
                                  DUP ;
                                  DUG 8 ;
                                  CDR ;
                                  CDR ;
                                  UPDATE ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  SWAP ;
                                  PAIR ;
                                  PAIR ;
                                  DUG 2 } } ;
                           PUSH nat 12 ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CDR ;
                           CAR ;
                           COMPARE ;
                           DROP ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DIG 7 ;
                           DUP ;
                           DUG 8 ;
                           CDR ;
                           CDR ;
                           DIG 8 ;
                           DUP ;
                           DUG 9 ;
                           CAR ;
                           CDR ;
                           PAIR %amount %owner ;
                           PUSH nat 100 ;
                           PAIR %interestRate ;
                           DIG 8 ;
                           CDR ;
                           CAR ;
                           PAIR %period ;
                           NOW ;
                           PAIR %issueTime ;
                           SOME ;
                           DIG 8 ;
                           CAR ;
                           CAR ;
                           CDR ;
                           CDR ;
                           CAR ;
                           UPDATE ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           CDR ;
                           PUSH nat 1 ;
                           DIG 7 ;
                           CAR ;
                           CAR ;
                           CDR ;
                           CDR ;
                           CAR ;
                           ADD ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           PAIR ;
                           PAIR ;
                           SWAP ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           CAR ;
                           PUSH int 1 ;
                           DIG 7 ;
                           CDR ;
                           CAR ;
                           CDR ;
                           CDR ;
                           CDR ;
                           ADD ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP } }
                       { { NIL operation ;
                           SWAP ;
                           PUSH mutez 0 ;
                           PUSH (pair (pair (option %custom (pair (option %config_api address) (string %tag)))
                                            (or %operator
                                               (unit %no_transfer)
                                               (or (unit %owner_or_operator_transfer) (unit %owner_transfer))))
                                      (pair (or %receiver
                                               (unit %optional_owner_hook)
                                               (or (unit %owner_no_op) (unit %required_owner_hook)))
                                            (or %sender
                                               (unit %optional_owner_hook)
                                               (or (unit %owner_no_op) (unit %required_owner_hook)))))
                                (Pair (Pair None (Right (Left Unit))) (Pair (Right (Left Unit)) (Right (Left Unit)))) ;
                           TRANSFER_TOKENS ;
                           CONS } } } } }
           { IF_LEFT
               { IF_LEFT
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CAR ;
                       CAR ;
                       CAR ;
                       CAR ;
                       SENDER ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string "WrongCondition: sp.sender == self.data.administrator" ;
                              FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       CDR ;
                       DIG 4 ;
                       PAIR ;
                       PAIR ;
                       PAIR ;
                       PAIR ;
                       NIL operation } }
                   { IF_LEFT
                       { { SWAP ;
                           DUP ;
                           DUG 2 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           CAR ;
                           SENDER ;
                           COMPARE ;
                           EQ ;
                           IF { {} }
                              { { PUSH string "WrongCondition: sp.sender == self.data.administrator" ;
                                  FAILWITH } } ;
                           SWAP ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           CDR ;
                           DIG 4 ;
                           PAIR ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           NIL operation } }
                       { { SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           CDR ;
                           CAR ;
                           CAR ;
                           IF { { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } }
                              { {} } ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           CDR ;
                           CDR ;
                           CDR ;
                           CAR ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           MEM ;
                           IF { {} } { { PUSH string "TOKEN NOT FOUND" ; FAILWITH } } ;
                           DUP ;
                           CAR ;
                           NIL operation ;
                           SWAP ;
                           PUSH mutez 0 ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           CDR ;
                           CDR ;
                           CDR ;
                           CDR ;
                           CAR ;
                           DIG 4 ;
                           CDR ;
                           GET ;
                           IF_NONE { { PUSH string "Get-item:558" ; FAILWITH } } {} ;
                           TRANSFER_TOKENS ;
                           CONS } } } }
               { IF_LEFT
                   { { SWAP ;
                       DUP ;
                       DUG 2 ;
                       CDR ;
                       CDR ;
                       CAR ;
                       CAR ;
                       IF { { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } }
                          { {} } ;
                       NIL operation ;
                       SWAP ;
                       PUSH mutez 0 ;
                       PUSH int 1 ;
                       DIG 4 ;
                       DUP ;
                       DUG 5 ;
                       CDR ;
                       CAR ;
                       CDR ;
                       CDR ;
                       CDR ;
                       ADD ;
                       TRANSFER_TOKENS ;
                       CONS } }
                   { { IF_LEFT
                         { { SWAP ;
                             DUP ;
                             DUG 2 ;
                             CDR ;
                             CDR ;
                             CAR ;
                             CAR ;
                             IF { { PUSH string "WrongCondition: ~ self.data.paused" ; FAILWITH } }
                                { {} } ;
                             DUP ;
                             ITER { DIG 2 ;
                                    DUP ;
                                    DUG 3 ;
                                    CAR ;
                                    CAR ;
                                    CAR ;
                                    CAR ;
                                    SENDER ;
                                    COMPARE ;
                                    EQ ;
                                    IF { PUSH bool True } { { DUP ; CAR ; SENDER ; COMPARE ; EQ } } ;
                                    IF { PUSH bool True }
                                       { { DIG 2 ;
                                           DUP ;
                                           DUG 3 ;
                                           CDR ;
                                           CAR ;
                                           CDR ;
                                           CDR ;
                                           CAR ;
                                           SENDER ;
                                           DIG 2 ;
                                           DUP ;
                                           DUG 3 ;
                                           CAR ;
                                           PAIR %owner %operator ;
                                           MEM } } ;
                                    IF { {} } { { PUSH string "NOT_OPERATOR" ; FAILWITH } } ;
                                    DUP ;
                                    CAR ;
                                    DIG 3 ;
                                    DUP ;
                                    DUG 4 ;
                                    CDR ;
                                    CDR ;
                                    CDR ;
                                    CDR ;
                                    CAR ;
                                    DIG 2 ;
                                    DUP ;
                                    DUG 3 ;
                                    CDR ;
                                    CDR ;
                                    GET ;
                                    IF_NONE { { PUSH string "Get-item:60" ; FAILWITH } } {} ;
                                    CDR ;
                                    CDR ;
                                    CDR ;
                                    CDR ;
                                    COMPARE ;
                                    EQ ;
                                    IF { {} } { { PUSH string "NOT_OWNER" ; FAILWITH } } ;
                                    DIG 2 ;
                                    DUP ;
                                    CDR ;
                                    SWAP ;
                                    CAR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CDR ;
                                    SWAP ;
                                    CAR ;
                                    DUP ;
                                    DIG 6 ;
                                    DUP ;
                                    DUG 7 ;
                                    CAR ;
                                    DUP ;
                                    DUG 2 ;
                                    GET ;
                                    IF_NONE { { PUSH string "set_in_top-nil-some" ; FAILWITH } } {} ;
                                    PUSH bool False ;
                                    DIG 8 ;
                                    DUP ;
                                    DUG 9 ;
                                    CDR ;
                                    CDR ;
                                    UPDATE ;
                                    SOME ;
                                    SWAP ;
                                    UPDATE ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    PAIR ;
                                    DUG 2 ;
                                    DIG 2 ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CDR ;
                                    SWAP ;
                                    CAR ;
                                    DUP ;
                                    DIG 7 ;
                                    DUP ;
                                    DUG 8 ;
                                    CDR ;
                                    CDR ;
                                    DUP ;
                                    DUG 2 ;
                                    GET ;
                                    IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    DUP ;
                                    CAR ;
                                    SWAP ;
                                    CDR ;
                                    CAR ;
                                    DIG 11 ;
                                    DUP ;
                                    DUG 12 ;
                                    CDR ;
                                    CAR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SOME ;
                                    SWAP ;
                                    UPDATE ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    SWAP ;
                                    PAIR ;
                                    DUG 2 ;
                                    DIG 2 ;
                                    DUP ;
                                    DUG 3 ;
                                    CAR ;
                                    CDR ;
                                    CDR ;
                                    CAR ;
                                    SWAP ;
                                    DUP ;
                                    DUG 2 ;
                                    CDR ;
                                    CAR ;
                                    MEM ;
                                    IF { { DIG 2 ;
                                           DUP ;
                                           CDR ;
                                           SWAP ;
                                           CAR ;
                                           DUP ;
                                           CAR ;
                                           SWAP ;
                                           CDR ;
                                           DUP ;
                                           CAR ;
                                           SWAP ;
                                           CDR ;
                                           DUP ;
                                           CDR ;
                                           SWAP ;
                                           CAR ;
                                           DUP ;
                                           DIG 6 ;
                                           DUP ;
                                           DUG 7 ;
                                           CDR ;
                                           CAR ;
                                           DUP ;
                                           DUG 2 ;
                                           GET ;
                                           IF_NONE { { PUSH string "set_in_top-nil-some" ; FAILWITH } } {} ;
                                           PUSH bool True ;
                                           DIG 8 ;
                                           DUP ;
                                           DUG 9 ;
                                           CDR ;
                                           CDR ;
                                           UPDATE ;
                                           SOME ;
                                           SWAP ;
                                           UPDATE ;
                                           PAIR ;
                                           SWAP ;
                                           PAIR ;
                                           SWAP ;
                                           PAIR ;
                                           PAIR ;
                                           DUG 2 } }
                                       { { DIG 2 ;
                                           DUP ;
                                           CDR ;
                                           SWAP ;
                                           CAR ;
                                           DUP ;
                                           CAR ;
                                           SWAP ;
                                           CDR ;
                                           DUP ;
                                           CAR ;
                                           SWAP ;
                                           CDR ;
                                           DUP ;
                                           CDR ;
                                           SWAP ;
                                           CAR ;
                                           PUSH (set nat) {} ;
                                           PUSH bool True ;
                                           DIG 7 ;
                                           DUP ;
                                           DUG 8 ;
                                           CDR ;
                                           CDR ;
                                           UPDATE ;
                                           SOME ;
                                           DIG 6 ;
                                           DUP ;
                                           DUG 7 ;
                                           CDR ;
                                           CAR ;
                                           UPDATE ;
                                           PAIR ;
                                           SWAP ;
                                           PAIR ;
                                           SWAP ;
                                           PAIR ;
                                           PAIR ;
                                           DUG 2 } } ;
                                    DROP } ;
                             DROP } }
                         { { DUP ;
                             ITER { DUP ;
                                    IF_LEFT
                                      { { DROP ;
                                          DUP ;
                                          SENDER ;
                                          SWAP ;
                                          IF_LEFT { {} } { { DROP ; PUSH unit Unit ; FAILWITH } } ;
                                          CDR ;
                                          COMPARE ;
                                          EQ ;
                                          IF { PUSH bool True }
                                             { { DIG 2 ; DUP ; DUG 3 ; CAR ; CAR ; CAR ; CAR ; SENDER ; COMPARE ; EQ } } ;
                                          IF { {} }
                                             { { PUSH string
                                                      "WrongCondition: (update.open_variant('add_operator').owner == sp.sender) | (sp.sender == self.data.administrator)" ;
                                                 FAILWITH } } ;
                                          DIG 2 ;
                                          DUP ;
                                          DUG 3 ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          PUSH (option unit) (Some Unit) ;
                                          DIG 7 ;
                                          DUP ;
                                          DUG 8 ;
                                          IF_LEFT { {} } { { DROP ; PUSH unit Unit ; FAILWITH } } ;
                                          CAR ;
                                          DIG 8 ;
                                          DUP ;
                                          DUG 9 ;
                                          IF_LEFT { {} } { { DROP ; PUSH unit Unit ; FAILWITH } } ;
                                          DIG 11 ;
                                          DROP ;
                                          CDR ;
                                          PAIR %owner %operator ;
                                          UPDATE ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          DUG 2 } }
                                      { { DROP ;
                                          DUP ;
                                          SENDER ;
                                          SWAP ;
                                          IF_LEFT { { DROP ; PUSH unit Unit ; FAILWITH } } { {} } ;
                                          CDR ;
                                          COMPARE ;
                                          EQ ;
                                          IF { PUSH bool True }
                                             { { DIG 2 ; DUP ; DUG 3 ; CAR ; CAR ; CAR ; CAR ; SENDER ; COMPARE ; EQ } } ;
                                          IF { {} }
                                             { { PUSH string
                                                      "WrongCondition: (update.open_variant('remove_operator').owner == sp.sender) | (sp.sender == self.data.administrator)" ;
                                                 FAILWITH } } ;
                                          DIG 2 ;
                                          DUP ;
                                          DUG 3 ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          NONE unit ;
                                          DIG 7 ;
                                          DUP ;
                                          DUG 8 ;
                                          IF_LEFT { { DROP ; PUSH unit Unit ; FAILWITH } } { {} } ;
                                          CAR ;
                                          DIG 8 ;
                                          DUP ;
                                          DUG 9 ;
                                          IF_LEFT { { DROP ; PUSH unit Unit ; FAILWITH } } { {} } ;
                                          DIG 11 ;
                                          DROP ;
                                          CDR ;
                                          PAIR %owner %operator ;
                                          UPDATE ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          DUG 2 } } ;
                                    DROP } ;
                             DROP } } ;
                       NIL operation } } } } ;
         PAIR } }
