{ parameter
    (or (or (nat %bid) (or (nat %cancelAuction) (nat %completeAuction)))
        (or (or (pair %configureAuction
                   (pair (nat %auctionID) (pair (nat %buyOutPrice) (timestamp %endTime)))
                   (pair (pair (nat %minIncrement) (nat %openingPrice))
                         (pair (nat %softCloseDuration) (timestamp %startTime))))
                (pair %createAuction (nat %auctionID) (address %owner)))
            (or (address %setProxyContract)
                (pair %updateIncrement (nat %auctionID) (nat %minIncrement))))) ;
  storage
    (pair (address %admin)
          (pair (big_map %auctions
                   nat
                   (pair (pair (pair (nat %buyOutPrice) (timestamp %endTime))
                               (pair (nat %minIncrement) (pair (nat %openingPrice) (address %owner))))
                         (pair (pair (nat %softCloseDuration) (timestamp %startTime))
                               (pair (nat %state) (pair (address %winner) (nat %winningBid))))))
                (address %proxyContract))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { IF_LEFT
               { SWAP ;
                 DUP ;
                 DUG 2 ;
                 CDR ;
                 CAR ;
                 SWAP ;
                 DUP ;
                 DUG 2 ;
                 GET ;
                 IF_NONE { PUSH int 270 ; FAILWITH } {} ;
                 CAR ;
                 CDR ;
                 CDR ;
                 CDR ;
                 SENDER ;
                 COMPARE ;
                 NEQ ;
                 IF { SENDER ; SOURCE ; COMPARE ; EQ } { PUSH bool False } ;
                 IF {}
                    { PUSH string
                           "WrongCondition: (sp.sender != self.data.auctions[params].owner) & (sp.source == sp.sender)" ;
                      FAILWITH } ;
                 PUSH nat 2 ;
                 DIG 2 ;
                 DUP ;
                 DUG 3 ;
                 CDR ;
                 CAR ;
                 DIG 2 ;
                 DUP ;
                 DUG 3 ;
                 GET ;
                 IF_NONE { PUSH int 272 ; FAILWITH } {} ;
                 CDR ;
                 CDR ;
                 CAR ;
                 COMPARE ;
                 EQ ;
                 IF {}
                    { PUSH string "WrongCondition: self.data.auctions[params].state == 2" ;
                      FAILWITH } ;
                 NOW ;
                 DIG 2 ;
                 DUP ;
                 DUG 3 ;
                 CDR ;
                 CAR ;
                 DIG 2 ;
                 DUP ;
                 DUG 3 ;
                 GET ;
                 IF_NONE { PUSH int 273 ; FAILWITH } {} ;
                 CAR ;
                 CAR ;
                 CDR ;
                 COMPARE ;
                 GE ;
                 IF {}
                    { PUSH string "WrongCondition: self.data.auctions[params].endTime >= sp.now" ;
                      FAILWITH } ;
                 SWAP ;
                 DUP ;
                 DUG 2 ;
                 CDR ;
                 CAR ;
                 SWAP ;
                 DUP ;
                 DUG 2 ;
                 GET ;
                 IF_NONE { PUSH int 274 ; FAILWITH } {} ;
                 CDR ;
                 CDR ;
                 CDR ;
                 CAR ;
                 DIG 2 ;
                 DUP ;
                 DUG 3 ;
                 CDR ;
                 CAR ;
                 DIG 2 ;
                 DUP ;
                 DUG 3 ;
                 GET ;
                 IF_NONE { PUSH int 274 ; FAILWITH } {} ;
                 CAR ;
                 CDR ;
                 CDR ;
                 CDR ;
                 COMPARE ;
                 EQ ;
                 IF { PUSH mutez 1 ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      CAR ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      GET ;
                      IF_NONE { PUSH int 275 ; FAILWITH } {} ;
                      CAR ;
                      CDR ;
                      CDR ;
                      CAR ;
                      MUL ;
                      AMOUNT ;
                      COMPARE ;
                      GE ;
                      IF {}
                         { PUSH string
                                "WrongCondition: sp.amount >= sp.mutez(self.data.auctions[params].openingPrice)" ;
                           FAILWITH } ;
                      NIL operation }
                    { PUSH mutez 1 ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      CAR ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      GET ;
                      IF_NONE { PUSH int 278 ; FAILWITH } {} ;
                      CDR ;
                      CDR ;
                      CDR ;
                      CDR ;
                      MUL ;
                      AMOUNT ;
                      COMPARE ;
                      GT ;
                      IF { PUSH mutez 1 ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CDR ;
                           CAR ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           GET ;
                           IF_NONE { PUSH int 278 ; FAILWITH } {} ;
                           CAR ;
                           CDR ;
                           CAR ;
                           MUL ;
                           PUSH mutez 1 ;
                           DIG 3 ;
                           DUP ;
                           DUG 4 ;
                           CDR ;
                           CAR ;
                           DIG 3 ;
                           DUP ;
                           DUG 4 ;
                           GET ;
                           IF_NONE { PUSH int 278 ; FAILWITH } {} ;
                           CDR ;
                           CDR ;
                           CDR ;
                           CDR ;
                           MUL ;
                           AMOUNT ;
                           SUB ;
                           COMPARE ;
                           GE }
                         { PUSH bool False } ;
                      IF {}
                         { PUSH string
                                "WrongCondition: (sp.amount > sp.mutez(self.data.auctions[params].winningBid)) & ((sp.amount - sp.mutez(self.data.auctions[params].winningBid)) >= sp.mutez(self.data.auctions[params].minIncrement))" ;
                           FAILWITH } ;
                      NIL operation ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      CAR ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      GET ;
                      IF_NONE { PUSH int 280 ; FAILWITH } {} ;
                      CDR ;
                      CDR ;
                      CDR ;
                      CAR ;
                      CONTRACT unit ;
                      IF_NONE { PUSH int 280 ; FAILWITH } {} ;
                      PUSH mutez 1 ;
                      DIG 4 ;
                      DUP ;
                      DUG 5 ;
                      CDR ;
                      CAR ;
                      DIG 4 ;
                      DUP ;
                      DUG 5 ;
                      GET ;
                      IF_NONE { PUSH int 280 ; FAILWITH } {} ;
                      CDR ;
                      CDR ;
                      CDR ;
                      CDR ;
                      MUL ;
                      UNIT ;
                      TRANSFER_TOKENS ;
                      CONS } ;
                 DIG 2 ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 DUP ;
                 CDR ;
                 SWAP ;
                 CAR ;
                 DUP ;
                 DIG 5 ;
                 DUP ;
                 DUG 6 ;
                 DUP ;
                 DUG 2 ;
                 GET ;
                 IF_NONE { PUSH int 282 ; FAILWITH } {} ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 CAR ;
                 PUSH mutez 1 ;
                 AMOUNT ;
                 EDIV ;
                 IF_NONE { PUSH int 282 ; FAILWITH } {} ;
                 CAR ;
                 SWAP ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 SOME ;
                 SWAP ;
                 UPDATE ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 DUP ;
                 CDR ;
                 SWAP ;
                 CAR ;
                 DUP ;
                 DIG 5 ;
                 DUP ;
                 DUG 6 ;
                 DUP ;
                 DUG 2 ;
                 GET ;
                 IF_NONE { PUSH int 284 ; FAILWITH } {} ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 DUP ;
                 CAR ;
                 SWAP ;
                 CDR ;
                 CDR ;
                 SENDER ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 SOME ;
                 SWAP ;
                 UPDATE ;
                 PAIR ;
                 SWAP ;
                 PAIR ;
                 DUG 2 ;
                 PUSH mutez 1 ;
                 DIG 3 ;
                 DUP ;
                 DUG 4 ;
                 CDR ;
                 CAR ;
                 DIG 3 ;
                 DUP ;
                 DUG 4 ;
                 GET ;
                 IF_NONE { PUSH int 285 ; FAILWITH } {} ;
                 CAR ;
                 CAR ;
                 CAR ;
                 MUL ;
                 AMOUNT ;
                 COMPARE ;
                 GE ;
                 IF { DIG 2 ;
                      DUP ;
                      CAR ;
                      SWAP ;
                      CDR ;
                      DUP ;
                      CDR ;
                      SWAP ;
                      CAR ;
                      DUP ;
                      DIG 5 ;
                      DUP ;
                      DUG 6 ;
                      DUP ;
                      DUG 2 ;
                      GET ;
                      IF_NONE { PUSH int 286 ; FAILWITH } {} ;
                      DUP ;
                      CAR ;
                      SWAP ;
                      CDR ;
                      DUP ;
                      CAR ;
                      SWAP ;
                      CDR ;
                      CDR ;
                      PUSH nat 3 ;
                      PAIR ;
                      SWAP ;
                      PAIR ;
                      SWAP ;
                      PAIR ;
                      SOME ;
                      SWAP ;
                      UPDATE ;
                      PAIR ;
                      SWAP ;
                      PAIR ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      CAR ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      GET ;
                      IF_NONE { PUSH int 287 ; FAILWITH } {} ;
                      CAR ;
                      CDR ;
                      CDR ;
                      CDR ;
                      CONTRACT unit ;
                      IF_NONE { PUSH int 287 ; FAILWITH } {} ;
                      AMOUNT ;
                      UNIT ;
                      TRANSFER_TOKENS ;
                      CONS ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      CDR ;
                      CONTRACT %endAuction (pair (nat %auctionID) (address %owner)) ;
                      IF_NONE { PUSH int 317 ; FAILWITH } {} ;
                      PUSH mutez 0 ;
                      DIG 4 ;
                      DUP ;
                      DUG 5 ;
                      CDR ;
                      CAR ;
                      DIG 4 ;
                      DUP ;
                      DUG 5 ;
                      GET ;
                      IF_NONE { PUSH int 288 ; FAILWITH } {} ;
                      CDR ;
                      CDR ;
                      CDR ;
                      CAR ;
                      DIG 4 ;
                      PAIR %auctionID %owner ;
                      TRANSFER_TOKENS ;
                      CONS }
                    { DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      CAR ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      GET ;
                      IF_NONE { PUSH int 290 ; FAILWITH } {} ;
                      CDR ;
                      CAR ;
                      CAR ;
                      NOW ;
                      DIG 4 ;
                      DUP ;
                      DUG 5 ;
                      CDR ;
                      CAR ;
                      DIG 4 ;
                      DUP ;
                      DUG 5 ;
                      GET ;
                      IF_NONE { PUSH int 290 ; FAILWITH } {} ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SUB ;
                      ISNAT ;
                      IF_NONE { PUSH int 290 ; FAILWITH } {} ;
                      COMPARE ;
                      LT ;
                      IF { DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           DIG 5 ;
                           DUP ;
                           DUG 2 ;
                           GET ;
                           IF_NONE { PUSH int 291 ; FAILWITH } {} ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           CAR ;
                           DIG 8 ;
                           DUP ;
                           DUG 9 ;
                           CDR ;
                           CAR ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           GET ;
                           IF_NONE { PUSH int 291 ; FAILWITH } {} ;
                           CAR ;
                           CAR ;
                           CDR ;
                           DIG 9 ;
                           CDR ;
                           CAR ;
                           DIG 5 ;
                           DUP ;
                           DUG 6 ;
                           GET ;
                           IF_NONE { PUSH int 291 ; FAILWITH } {} ;
                           CDR ;
                           CAR ;
                           CAR ;
                           INT ;
                           ADD ;
                           SWAP ;
                           PAIR ;
                           PAIR ;
                           PAIR ;
                           SOME ;
                           SWAP ;
                           UPDATE ;
                           PAIR ;
                           SWAP ;
                           PAIR ;
                           SWAP }
                         { SWAP ; DROP } } }
               { IF_LEFT
                   { SENDER ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     GET ;
                     IF_NONE { PUSH int 217 ; FAILWITH } {} ;
                     CAR ;
                     CDR ;
                     CDR ;
                     CDR ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: self.data.auctions[params].owner == sp.sender" ;
                          FAILWITH } ;
                     PUSH nat 3 ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     GET ;
                     IF_NONE { PUSH int 297 ; FAILWITH } {} ;
                     CDR ;
                     CDR ;
                     CAR ;
                     COMPARE ;
                     LT ;
                     IF {}
                        { PUSH string "WrongCondition: self.data.auctions[params].state < 3" ;
                          FAILWITH } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 298 ; FAILWITH } {} ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     CDR ;
                     PUSH nat 4 ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     DUP ;
                     DUG 2 ;
                     CDR ;
                     CAR ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 300 ; FAILWITH } {} ;
                     CDR ;
                     CDR ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     GET ;
                     IF_NONE { PUSH int 300 ; FAILWITH } {} ;
                     CAR ;
                     CDR ;
                     CDR ;
                     CDR ;
                     COMPARE ;
                     NEQ ;
                     IF { NIL operation ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          CDR ;
                          CAR ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          GET ;
                          IF_NONE { PUSH int 301 ; FAILWITH } {} ;
                          CDR ;
                          CDR ;
                          CDR ;
                          CAR ;
                          CONTRACT unit ;
                          IF_NONE { PUSH int 301 ; FAILWITH } {} ;
                          PUSH mutez 1 ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          CDR ;
                          CAR ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          GET ;
                          IF_NONE { PUSH int 301 ; FAILWITH } {} ;
                          CDR ;
                          CDR ;
                          CDR ;
                          CDR ;
                          MUL ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS }
                        { NIL operation } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CDR ;
                     CONTRACT %endAuction (pair (nat %auctionID) (address %owner)) ;
                     IF_NONE { PUSH int 317 ; FAILWITH } {} ;
                     PUSH mutez 0 ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     CDR ;
                     CAR ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     GET ;
                     IF_NONE { PUSH int 303 ; FAILWITH } {} ;
                     CAR ;
                     CDR ;
                     CDR ;
                     CDR ;
                     DIG 4 ;
                     PAIR %auctionID %owner ;
                     TRANSFER_TOKENS ;
                     CONS }
                   { NOW ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     GET ;
                     IF_NONE { PUSH int 307 ; FAILWITH } {} ;
                     CAR ;
                     CAR ;
                     CDR ;
                     COMPARE ;
                     LT ;
                     IF {}
                        { PUSH string "WrongCondition: self.data.auctions[params].endTime < sp.now" ;
                          FAILWITH } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 308 ; FAILWITH } {} ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     CDR ;
                     PUSH nat 3 ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     DUP ;
                     DUG 2 ;
                     CDR ;
                     CAR ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 309 ; FAILWITH } {} ;
                     CDR ;
                     CDR ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     GET ;
                     IF_NONE { PUSH int 309 ; FAILWITH } {} ;
                     CAR ;
                     CDR ;
                     CDR ;
                     CDR ;
                     COMPARE ;
                     EQ ;
                     IF { NIL operation ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          CDR ;
                          CDR ;
                          CONTRACT %endAuction (pair (nat %auctionID) (address %owner)) ;
                          IF_NONE { PUSH int 317 ; FAILWITH } {} ;
                          PUSH mutez 0 ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          CDR ;
                          CAR ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          GET ;
                          IF_NONE { PUSH int 310 ; FAILWITH } {} ;
                          CAR ;
                          CDR ;
                          CDR ;
                          CDR ;
                          DIG 4 ;
                          PAIR %auctionID %owner ;
                          TRANSFER_TOKENS ;
                          CONS }
                        { NIL operation ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          CDR ;
                          CAR ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          GET ;
                          IF_NONE { PUSH int 312 ; FAILWITH } {} ;
                          CAR ;
                          CDR ;
                          CDR ;
                          CDR ;
                          CONTRACT unit ;
                          IF_NONE { PUSH int 312 ; FAILWITH } {} ;
                          PUSH mutez 1 ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          CDR ;
                          CAR ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          GET ;
                          IF_NONE { PUSH int 312 ; FAILWITH } {} ;
                          CDR ;
                          CDR ;
                          CDR ;
                          CDR ;
                          MUL ;
                          UNIT ;
                          TRANSFER_TOKENS ;
                          CONS ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          CDR ;
                          CDR ;
                          CONTRACT %endAuction (pair (nat %auctionID) (address %owner)) ;
                          IF_NONE { PUSH int 317 ; FAILWITH } {} ;
                          PUSH mutez 0 ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          CDR ;
                          CAR ;
                          DIG 4 ;
                          DUP ;
                          DUG 5 ;
                          GET ;
                          IF_NONE { PUSH int 314 ; FAILWITH } {} ;
                          CDR ;
                          CDR ;
                          CDR ;
                          CAR ;
                          DIG 4 ;
                          PAIR %auctionID %owner ;
                          TRANSFER_TOKENS ;
                          CONS } } } }
           { IF_LEFT
               { IF_LEFT
                   { SENDER ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CAR ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 217 ; FAILWITH } {} ;
                     CAR ;
                     CDR ;
                     CDR ;
                     CDR ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string
                               "WrongCondition: self.data.auctions[params.auctionID].owner == sp.sender" ;
                          FAILWITH } ;
                     PUSH nat 1 ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CAR ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 247 ; FAILWITH } {} ;
                     CDR ;
                     CDR ;
                     CAR ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: self.data.auctions[params.auctionID].state == 1" ;
                          FAILWITH } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     CAR ;
                     CAR ;
                     PUSH nat 0 ;
                     SENDER ;
                     PAIR %winner %winningBid ;
                     PUSH nat 2 ;
                     PAIR %state ;
                     DIG 5 ;
                     DUP ;
                     CDR ;
                     CDR ;
                     CDR ;
                     SWAP ;
                     DUP ;
                     DUG 7 ;
                     CDR ;
                     CDR ;
                     CAR ;
                     PAIR %softCloseDuration %startTime ;
                     PAIR ;
                     SENDER ;
                     DIG 6 ;
                     DUP ;
                     DUG 7 ;
                     CDR ;
                     CAR ;
                     CDR ;
                     PAIR %openingPrice %owner ;
                     DIG 6 ;
                     DUP ;
                     DUG 7 ;
                     CDR ;
                     CAR ;
                     CAR ;
                     PAIR %minIncrement ;
                     DIG 6 ;
                     DUP ;
                     CAR ;
                     CDR ;
                     CDR ;
                     SWAP ;
                     DUP ;
                     DUG 8 ;
                     CAR ;
                     CDR ;
                     CAR ;
                     PAIR %buyOutPrice %endTime ;
                     PAIR ;
                     PAIR ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     NOW ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CAR ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 259 ; FAILWITH } {} ;
                     CDR ;
                     CAR ;
                     CDR ;
                     COMPARE ;
                     LT ;
                     IF { SWAP ;
                          DUP ;
                          CAR ;
                          SWAP ;
                          CDR ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          DIG 4 ;
                          CAR ;
                          CAR ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          IF_NONE { PUSH int 260 ; FAILWITH } {} ;
                          DUP ;
                          CAR ;
                          SWAP ;
                          CDR ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          CAR ;
                          NOW ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR }
                        { DROP } }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CDR ;
                     CDR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.proxyContract" ;
                          FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CDR ;
                     CAR ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     MEM ;
                     IF { PUSH string "WrongCondition: ~ (self.data.auctions.contains(params.auctionID))" ;
                          FAILWITH }
                        {} ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     CAR ;
                     PUSH nat 0 ;
                     DIG 5 ;
                     DUP ;
                     DUG 6 ;
                     CDR ;
                     PAIR %winner %winningBid ;
                     PUSH nat 1 ;
                     PAIR %state ;
                     NOW ;
                     PUSH nat 0 ;
                     PAIR %softCloseDuration %startTime ;
                     PAIR ;
                     DIG 5 ;
                     CDR ;
                     PUSH nat 0 ;
                     PAIR %openingPrice %owner ;
                     PUSH nat 0 ;
                     PAIR %minIncrement ;
                     NOW ;
                     PUSH nat 0 ;
                     PAIR %buyOutPrice %endTime ;
                     PAIR ;
                     PAIR ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR } }
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR }
                   { SENDER ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CAR ;
                     GET ;
                     IF_NONE { PUSH int 217 ; FAILWITH } {} ;
                     CAR ;
                     CDR ;
                     CDR ;
                     CDR ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string
                               "WrongCondition: self.data.auctions[params.auctionID].owner == sp.sender" ;
                          FAILWITH } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     CAR ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     IF_NONE { PUSH int 265 ; FAILWITH } {} ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     CDR ;
                     DIG 7 ;
                     CDR ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR } } ;
             NIL operation } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }
