{ parameter
    (or (or (or (pair %completeBet (nat %betId) (nat %betType))
                (pair %completeBetFromOro (nat %cycleNumber) (nat %uuid)))
            (or (unit %depositFunds) (pair %placeBet (nat %betType) (nat %seed))))
        (or (or (pair %placeBetFromOro (nat %cycleNumber) (nat %uuid))
                (option %updateBaker key_hash))
            (or (address %updateOracle) (nat %withdrawAdminFunds)))) ;
  storage
    (pair (pair (pair (address %admin) (mutez %adminBalance))
                (pair (map %betData nat (map nat (pair (nat %seed) (list %senderList address))))
                      (pair (map %betSize nat nat) (nat %earnedAmount))))
          (pair (pair (address %oracleAddress)
                      (map %tempCompleteBetData nat (pair (nat %betId) (nat %betType))))
                (pair (map %tempData nat (pair (nat %betType) (pair (nat %seed) (address %sender))))
                      (pair (nat %uuid) (map %yields nat nat))))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     { CDR ; CDR } ;
                     PUSH nat 1 ;
                     DIG 6 ;
                     { CDR ; CDR ; CDR ; CAR } ;
                     ADD ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     DUP ;
                     DUG 2 ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     CDR ;
                     DIG 5 ;
                     CAR ;
                     PAIR %betId %betType ;
                     SOME ;
                     DIG 5 ;
                     { CDR ; CDR ; CDR ; CAR } ;
                     UPDATE ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     DUP ;
                     { CDR ; CAR ; CAR } ;
                     CONTRACT %getDataFromOro (pair (address %entryAddress) (nat %uuid)) ;
                     NIL operation ;
                     SWAP ;
                     { IF_NONE { UNIT ; FAILWITH } {} } ;
                     PUSH mutez 5000 ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     { CDR ; CDR ; CDR ; CAR } ;
                     SELF ;
                     ADDRESS ;
                     CONTRACT %completeBetFromOro (pair (nat %cycleNumber) (nat %uuid)) ;
                     { IF_NONE { UNIT ; FAILWITH } {} } ;
                     ADDRESS ;
                     PAIR %entryAddress %uuid ;
                     TRANSFER_TOKENS ;
                     CONS }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CDR ; CAR ; CAR } ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {} { PUSH string "complete bet can be invoked by oro only" ; FAILWITH } ;
                     DUP ;
                     CAR ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CAR ;
                     ADD ;
                     COMPARE ;
                     LT ;
                     IF {} { PUSH string "Bet not yet mature" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CDR ; CDR ; CAR } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     MEM ;
                     IF {} { PUSH string "Invalid bet type" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     { CDR ; CAR } ;
                     PUSH nat 10000 ;
                     DIG 6 ;
                     DUP ;
                     DUG 7 ;
                     { CDR ; CDR ; CDR ; CDR } ;
                     DIG 7 ;
                     DUP ;
                     DUG 8 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 7 ;
                     DUP ;
                     DUG 8 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                     DIG 7 ;
                     DUP ;
                     DUG 8 ;
                     { CAR ; CDR ; CAR } ;
                     DIG 8 ;
                     DUP ;
                     DUG 9 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 8 ;
                     DUP ;
                     DUG 9 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                     DIG 8 ;
                     DUP ;
                     DUG 9 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 8 ;
                     DUP ;
                     DUG 9 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CAR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                     CDR ;
                     SIZE ;
                     DIG 8 ;
                     DUP ;
                     DUG 9 ;
                     { CAR ; CDR ; CDR ; CAR } ;
                     DIG 9 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 9 ;
                     DUP ;
                     DUG 10 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                     MUL ;
                     MUL ;
                     EDIV ;
                     { IF_NONE { PUSH string "division by zero" ; FAILWITH } { CAR } } ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PUSH nat 0 ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     { CAR ; CAR } ;
                     PUSH mutez 1 ;
                     PUSH nat 100 ;
                     PUSH nat 10 ;
                     DIG 8 ;
                     DUP ;
                     DUG 9 ;
                     { CAR ; CDR ; CDR ; CDR } ;
                     MUL ;
                     EDIV ;
                     { IF_NONE { PUSH string "division by zero" ; FAILWITH } { CAR } } ;
                     MUL ;
                     DIG 6 ;
                     { CAR ; CAR ; CDR } ;
                     ADD ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     PAIR ;
                     DUG 2 ;
                     NIL operation ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     { CAR ; CDR ; CAR } ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 4 ;
                     DUP ;
                     DUG 5 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CAR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                     CDR ;
                     ITER { DIG 4 ;
                            DUP ;
                            DUG 5 ;
                            { CAR ; CDR ; CAR } ;
                            DIG 5 ;
                            DUP ;
                            DUG 6 ;
                            { CDR ; CAR ; CDR } ;
                            DIG 5 ;
                            DUP ;
                            DUG 6 ;
                            CDR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                            CDR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                            DIG 5 ;
                            DUP ;
                            DUG 6 ;
                            { CDR ; CAR ; CDR } ;
                            DIG 5 ;
                            DUP ;
                            DUG 6 ;
                            CDR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                            CAR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                            CDR ;
                            SIZE ;
                            PUSH timestamp "0" ;
                            NOW ;
                            SUB ;
                            ABS ;
                            DIG 6 ;
                            DUP ;
                            DUG 7 ;
                            { CAR ; CDR ; CAR } ;
                            DIG 7 ;
                            DUP ;
                            DUG 8 ;
                            { CDR ; CAR ; CDR } ;
                            DIG 7 ;
                            DUP ;
                            DUG 8 ;
                            CDR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                            CDR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                            DIG 7 ;
                            DUP ;
                            DUG 8 ;
                            { CDR ; CAR ; CDR } ;
                            DIG 7 ;
                            DUP ;
                            DUG 8 ;
                            CDR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                            CAR ;
                            GET ;
                            { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                            CAR ;
                            ADD ;
                            EDIV ;
                            { IF_NONE { PUSH string "division by zero" ; FAILWITH } { CDR } } ;
                            DIG 3 ;
                            DUP ;
                            DUG 4 ;
                            COMPARE ;
                            EQ ;
                            IF { CONTRACT unit ;
                                 { IF_NONE { UNIT ; FAILWITH } {} } ;
                                 PUSH mutez 1 ;
                                 DIG 5 ;
                                 DUP ;
                                 DUG 6 ;
                                 { CAR ; CDR ; CDR ; CAR } ;
                                 DIG 6 ;
                                 DUP ;
                                 DUG 7 ;
                                 { CDR ; CAR ; CDR } ;
                                 DIG 6 ;
                                 DUP ;
                                 DUG 7 ;
                                 CDR ;
                                 GET ;
                                 { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                                 CDR ;
                                 GET ;
                                 { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                                 PUSH nat 100 ;
                                 PUSH nat 90 ;
                                 DIG 8 ;
                                 DUP ;
                                 DUG 9 ;
                                 { CAR ; CDR ; CDR ; CDR } ;
                                 MUL ;
                                 EDIV ;
                                 { IF_NONE { PUSH string "division by zero" ; FAILWITH } { CAR } } ;
                                 ADD ;
                                 MUL ;
                                 UNIT ;
                                 TRANSFER_TOKENS ;
                                 CONS }
                               { CONTRACT unit ;
                                 { IF_NONE { UNIT ; FAILWITH } {} } ;
                                 PUSH mutez 1 ;
                                 DIG 5 ;
                                 DUP ;
                                 DUG 6 ;
                                 { CAR ; CDR ; CDR ; CAR } ;
                                 DIG 6 ;
                                 DUP ;
                                 DUG 7 ;
                                 { CDR ; CAR ; CDR } ;
                                 DIG 6 ;
                                 DUP ;
                                 DUG 7 ;
                                 CDR ;
                                 GET ;
                                 { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                                 CDR ;
                                 GET ;
                                 { IF_NONE { PUSH string "Get-item:64" ; FAILWITH } {} } ;
                                 MUL ;
                                 UNIT ;
                                 TRANSFER_TOKENS ;
                                 CONS } ;
                            SWAP ;
                            PUSH nat 1 ;
                            ADD ;
                            SWAP } ;
                     SWAP ;
                     DROP ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     DIG 7 ;
                     DUP ;
                     DUG 8 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 7 ;
                     DUP ;
                     DUG 8 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CDR ;
                     DUP ;
                     DUG 2 ;
                     GET ;
                     { IF_NONE { PUSH string "set_in_top-any" ; FAILWITH } {} } ;
                     NONE (pair (nat %seed) (list %senderList address)) ;
                     DIG 9 ;
                     { CDR ; CAR ; CDR } ;
                     DIG 9 ;
                     DUP ;
                     DUG 10 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:63" ; FAILWITH } {} } ;
                     CAR ;
                     UPDATE ;
                     SOME ;
                     SWAP ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     NONE (pair (nat %betId) (nat %betType)) ;
                     DIG 6 ;
                     CDR ;
                     UPDATE ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP } }
               { IF_LEFT
                   { DROP ;
                     DUP ;
                     { CAR ; CAR ; CAR } ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF { DUP ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          { CAR ; CAR } ;
                          AMOUNT ;
                          DIG 4 ;
                          { CAR ; CAR ; CDR } ;
                          ADD ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          PAIR }
                        {} ;
                     NIL operation }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CDR ; CAR } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     MEM ;
                     IF {} { PUSH string "incorrect bet type" ; FAILWITH } ;
                     PUSH mutez 1 ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     { CAR ; CDR ; CDR ; CAR } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CAR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:26" ; FAILWITH } {} } ;
                     MUL ;
                     PACK ;
                     AMOUNT ;
                     PACK ;
                     COMPARE ;
                     EQ ;
                     IF {} { PUSH string "incorrect amount sent to the entry point" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     { CDR ; CDR } ;
                     PUSH nat 1 ;
                     DIG 6 ;
                     { CDR ; CDR ; CDR ; CAR } ;
                     ADD ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     DUP ;
                     DUG 2 ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     SENDER ;
                     DIG 5 ;
                     DUP ;
                     DUG 6 ;
                     CDR ;
                     PAIR %seed %sender ;
                     DIG 5 ;
                     CAR ;
                     PAIR %betType ;
                     SOME ;
                     DIG 5 ;
                     { CDR ; CDR ; CDR ; CAR } ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     DUP ;
                     { CDR ; CAR ; CAR } ;
                     CONTRACT %getDataFromOro (pair (address %entryAddress) (nat %uuid)) ;
                     NIL operation ;
                     SWAP ;
                     { IF_NONE { UNIT ; FAILWITH } {} } ;
                     PUSH mutez 5000 ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     { CDR ; CDR ; CDR ; CAR } ;
                     SELF ;
                     ADDRESS ;
                     CONTRACT %placeBetFromOro (pair (nat %cycleNumber) (nat %uuid)) ;
                     { IF_NONE { UNIT ; FAILWITH } {} } ;
                     ADDRESS ;
                     PAIR %entryAddress %uuid ;
                     TRANSFER_TOKENS ;
                     CONS } } }
           { IF_LEFT
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CDR ; CAR ; CAR } ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {} { PUSH string "can be invoked by oro only" ; FAILWITH } ;
                     DUP ;
                     CAR ;
                     PUSH nat 0 ;
                     COMPARE ;
                     NEQ ;
                     IF {} { PUSH string "Oro returned error" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CDR ; CAR } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     { CDR ; CDR ; CAR } ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     CDR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                     CAR ;
                     GET ;
                     { IF_NONE { PUSH string "Get-item:42" ; FAILWITH } {} } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     CAR ;
                     MEM ;
                     IF { SWAP ;
                          DUP ;
                          DUG 2 ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          CAR ;
                          SWAP ;
                          CDR ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          DIG 6 ;
                          DUP ;
                          DUG 7 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 6 ;
                          DUP ;
                          DUG 7 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          CAR ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH string "set_in_top-any" ; FAILWITH } {} } ;
                          DUP ;
                          DIG 7 ;
                          DUP ;
                          DUG 8 ;
                          CAR ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH string "set_in_top-any" ; FAILWITH } {} } ;
                          CAR ;
                          DIG 9 ;
                          DUP ;
                          DUG 10 ;
                          { CAR ; CDR ; CAR } ;
                          DIG 10 ;
                          DUP ;
                          DUG 11 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 10 ;
                          DUP ;
                          DUG 11 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          CAR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:42" ; FAILWITH } {} } ;
                          DIG 9 ;
                          DUP ;
                          DUG 10 ;
                          CAR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:39" ; FAILWITH } {} } ;
                          CDR ;
                          DIG 10 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 10 ;
                          DUP ;
                          DUG 11 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          { CDR ; CDR } ;
                          CONS ;
                          SWAP ;
                          PAIR ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          DUP ;
                          DUG 2 ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          CAR ;
                          SWAP ;
                          CDR ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          DIG 6 ;
                          DUP ;
                          DUG 7 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 6 ;
                          DUP ;
                          DUG 7 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          CAR ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH string "set_in_top-any" ; FAILWITH } {} } ;
                          DUP ;
                          DIG 7 ;
                          DUP ;
                          DUG 8 ;
                          CAR ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH string "set_in_top-any" ; FAILWITH } {} } ;
                          CDR ;
                          PUSH nat 100000 ;
                          PUSH timestamp "0" ;
                          NOW ;
                          SUB ;
                          ABS ;
                          DIG 11 ;
                          DUP ;
                          DUG 12 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 11 ;
                          DUP ;
                          DUG 12 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          { CDR ; CAR } ;
                          DIG 12 ;
                          DUP ;
                          DUG 13 ;
                          { CAR ; CDR ; CAR } ;
                          DIG 13 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 13 ;
                          DUP ;
                          DUG 14 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          CAR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:42" ; FAILWITH } {} } ;
                          DIG 12 ;
                          DUP ;
                          DUG 13 ;
                          CAR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:39" ; FAILWITH } {} } ;
                          CAR ;
                          ADD ;
                          ADD ;
                          EDIV ;
                          { IF_NONE { PUSH string "division by zero" ; FAILWITH } { CDR } } ;
                          PAIR ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          SWAP }
                        { SWAP ;
                          DUP ;
                          DUG 2 ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          CAR ;
                          SWAP ;
                          CDR ;
                          DUP ;
                          CDR ;
                          SWAP ;
                          CAR ;
                          DUP ;
                          DIG 6 ;
                          DUP ;
                          DUG 7 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 6 ;
                          DUP ;
                          DUG 7 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          CAR ;
                          DUP ;
                          DUG 2 ;
                          GET ;
                          { IF_NONE { PUSH string "set_in_top-any" ; FAILWITH } {} } ;
                          NIL address ;
                          DIG 8 ;
                          DUP ;
                          DUG 9 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 8 ;
                          DUP ;
                          DUG 9 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          { CDR ; CDR } ;
                          CONS ;
                          DIG 8 ;
                          { CDR ; CDR ; CAR } ;
                          DIG 8 ;
                          DUP ;
                          DUG 9 ;
                          CDR ;
                          GET ;
                          { IF_NONE { PUSH string "Get-item:41" ; FAILWITH } {} } ;
                          { CDR ; CAR } ;
                          PAIR %seed %senderList ;
                          SOME ;
                          DIG 7 ;
                          DUP ;
                          DUG 8 ;
                          CAR ;
                          UPDATE ;
                          SOME ;
                          SWAP ;
                          UPDATE ;
                          PAIR ;
                          SWAP ;
                          PAIR ;
                          PAIR ;
                          SWAP } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     NONE (pair (nat %betType) (pair (nat %seed) (address %sender))) ;
                     DIG 5 ;
                     CDR ;
                     UPDATE ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     NIL operation }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CAR ; CAR } ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                     SET_DELEGATE ;
                     NIL operation ;
                     SWAP ;
                     CONS } }
               { IF_LEFT
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CAR ; CAR } ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     CAR ;
                     SWAP ;
                     CDR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     { CAR ; CDR } ;
                     DIG 3 ;
                     PAIR ;
                     PAIR ;
                     SWAP ;
                     PAIR ;
                     NIL operation }
                   { SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CAR ; CAR } ;
                     SENDER ;
                     COMPARE ;
                     EQ ;
                     IF {}
                        { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ;
                     SWAP ;
                     DUP ;
                     DUG 2 ;
                     { CAR ; CAR ; CDR } ;
                     PUSH mutez 1 ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     MUL ;
                     COMPARE ;
                     LE ;
                     IF {}
                        { PUSH string "WrongCondition: sp.mutez(params) <= self.data.adminBalance" ;
                          FAILWITH } ;
                     NIL operation ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     { CAR ; CAR ; CAR } ;
                     CONTRACT unit ;
                     { IF_NONE { UNIT ; FAILWITH } {} } ;
                     PUSH mutez 1 ;
                     DIG 3 ;
                     DUP ;
                     DUG 4 ;
                     MUL ;
                     UNIT ;
                     TRANSFER_TOKENS ;
                     CONS ;
                     DIG 2 ;
                     DUP ;
                     DUG 3 ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     CAR ;
                     DUP ;
                     CDR ;
                     SWAP ;
                     { CAR ; CAR } ;
                     PUSH mutez 1 ;
                     DIG 5 ;
                     MUL ;
                     DIG 5 ;
                     { CAR ; CAR ; CDR } ;
                     SUB ;
                     SWAP ;
                     PAIR ;
                     PAIR ;
                     PAIR ;
                     SWAP } } } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }
