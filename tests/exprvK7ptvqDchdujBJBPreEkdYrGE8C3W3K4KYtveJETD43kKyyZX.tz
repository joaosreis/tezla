{ storage
    (pair (pair (pair (pair (address %administrator) (nat %all_collections))
                      (pair (nat %all_tokens) (pair (address %auction_factory) (map %auctions nat address))))
                (pair (pair (big_map %collections nat (list nat)) (nat %id_max_increment))
                      (pair (address %ipfs_registry)
                            (pair (big_map %ledger (pair address nat) nat) (nat %max_editions)))))
          (pair (pair (pair (int %max_royalty) (big_map %metadata string bytes))
                      (pair (unit %metadata_string)
                            (pair (big_map %operators
                                     (pair (address %owner) (pair (address %operator) (nat %token_id)))
                                     unit)
                                  (bool %paused))))
                (pair (pair (big_map %token_metadata nat (map string bytes))
                            (big_map %tokens
                               nat
                               (pair (string %name)
                                     (pair (string %symbol)
                                           (pair (nat %decimals)
                                                 (pair (map %extras string string)
                                                       (pair (nat %token_id)
                                                             (pair (mutez %price)
                                                                   (pair (string %ipfs_hash)
                                                                         (pair (address %owner)
                                                                               (pair (bool %on_sale)
                                                                                     (pair (string %collection_name)
                                                                                           (pair (nat %collection_id)
                                                                                                 (pair (address %creator)
                                                                                                       (pair (nat %creator_royalty) (pair (nat %edition_number) (nat %editions)))))))))))))))))
                      (pair (nat %trading_fee) (pair (address %trading_fee_collector) (nat %x)))))) ;
  parameter
    (or (or (or (or (pair %balance_of
                       (list %requests (pair (address %owner) (nat %token_id)))
                       (contract %callback
                          (list (pair (pair %request (address %owner) (nat %token_id)) (nat %balance)))))
                    (nat %bid))
                (or (nat %buy) (or (nat %cancel_auction) (nat %delist_token))))
            (or (or (pair %end_auction (address %highest_bidder) (nat %token_id))
                    (pair %list_token (mutez %price) (nat %token_id)))
                (or (pair %mint
                       (pair (nat %collection_id) (int %creator_royalty))
                       (pair (nat %editions) (nat %token_id)))
                    (or (pair %register_auction
                           (address %auction_contract)
                           (pair (mutez %reserve_price) (nat %token_id)))
                        (nat %resolve_auction)))))
        (or (or (or (address %set_administrator) (address %set_auction_factory))
                (or (bytes %set_contract_metadata_uri)
                    (or (address %set_ipfs_registry) (nat %set_max_editions))))
            (or (or (int %set_max_royalty)
                    (or (pair %set_token_metadata_uri (nat %token_id) (bytes %uri))
                        (nat %set_trading_fee)))
                (or (address %set_trading_fee_collector)
                    (or (list %transfer
                           (pair (address %from_)
                                 (list %txs (pair (address %to_) (pair (nat %token_id) (nat %amount))))))
                        (list %update_operators
                           (or (pair %add_operator (address %owner) (pair (address %operator) (nat %token_id)))
                               (pair %remove_operator (address %owner) (pair (address %operator) (nat %token_id)))))))))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { IF_LEFT
                       { DUP ;
                         CAR ;
                         MAP { DIG 2 ;
                               DUP ;
                               DUG 3 ;
                               CDR ;
                               CDR ;
                               CAR ;
                               CDR ;
                               SWAP ;
                               DUP ;
                               DUG 2 ;
                               CDR ;
                               MEM ;
                               IF {} { PUSH string "FA2_TOKEN_UNDEFINED" ; FAILWITH } ;
                               DIG 2 ;
                               DUP ;
                               DUG 3 ;
                               CAR ;
                               CDR ;
                               CDR ;
                               CDR ;
                               CAR ;
                               SWAP ;
                               DUP ;
                               CDR ;
                               SWAP ;
                               DUP ;
                               DUG 3 ;
                               CAR ;
                               PAIR ;
                               MEM ;
                               IF { DIG 2 ;
                                    DUP ;
                                    DUG 3 ;
                                    CAR ;
                                    CDR ;
                                    CDR ;
                                    CDR ;
                                    CAR ;
                                    SWAP ;
                                    DUP ;
                                    CDR ;
                                    SWAP ;
                                    DUP ;
                                    DUG 3 ;
                                    CAR ;
                                    PAIR ;
                                    GET ;
                                    IF_NONE { PUSH int 729 ; FAILWITH } {} ;
                                    SWAP ;
                                    PAIR %request %balance }
                                  { PUSH nat 0 ; SWAP ; PAIR %request %balance } } ;
                         NIL operation ;
                         DIG 2 ;
                         CDR ;
                         PUSH mutez 0 ;
                         DIG 3 ;
                         TRANSFER_TOKENS ;
                         CONS }
                       { SOURCE ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 557 ; FAILWITH } ;
                         NIL operation ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CAR ;
                         CAR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         DIG 2 ;
                         GET ;
                         IF_NONE { PUSH int 558 ; FAILWITH } {} ;
                         CONTRACT %bid unit ;
                         IF_NONE { PUSH int 558 ; FAILWITH } {} ;
                         AMOUNT ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS } }
                   { IF_LEFT
                       { SOURCE ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 752 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         MEM ;
                         IF { PUSH int 754 ; FAILWITH } {} ;
                         SENDER ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         COMPARE ;
                         NEQ ;
                         IF {} { PUSH int 756 ; FAILWITH } ;
                         AMOUNT ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         COMPARE ;
                         LE ;
                         IF {} { PUSH int 757 ; FAILWITH } ;
                         PUSH bool True ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 758 ; FAILWITH } ;
                         NIL operation ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 673 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 672 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 677 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 676 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 681 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 676 ; FAILWITH } {} ;
                         CAR ;
                         PUSH nat 100 ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         DIG 6 ;
                         DUP ;
                         DUG 7 ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 672 ; FAILWITH } {} ;
                         CAR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         SUB ;
                         SUB ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         NIL (pair (address %from_)
                                   (list %txs (pair (nat %amount) (pair (address %to_) (nat %token_id))))) ;
                         NIL (pair (nat %amount) (pair (address %to_) (nat %token_id))) ;
                         DIG 3 ;
                         DUP ;
                         DUG 4 ;
                         SENDER ;
                         PAIR %to_ %token_id ;
                         PUSH nat 1 ;
                         PAIR %amount ;
                         CONS ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         GET ;
                         IF_NONE { PUSH int 753 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         PAIR %from_ %txs ;
                         CONS ;
                         ITER { DUP ;
                                CDR ;
                                ITER { DUP ;
                                       CAR ;
                                       PUSH nat 0 ;
                                       COMPARE ;
                                       LT ;
                                       IF {} { PUSH string "TRANSFER_OF_ZERO" ; FAILWITH } ;
                                       DIG 4 ;
                                       DUP ;
                                       DUG 5 ;
                                       CDR ;
                                       CDR ;
                                       CAR ;
                                       CDR ;
                                       SWAP ;
                                       DUP ;
                                       DUG 2 ;
                                       CDR ;
                                       CDR ;
                                       MEM ;
                                       IF {} { PUSH string "FA2_TOKEN_UNDEFINED" ; FAILWITH } ;
                                       DUP ;
                                       CAR ;
                                       PUSH nat 0 ;
                                       COMPARE ;
                                       LT ;
                                       IF { DUP ;
                                            CAR ;
                                            DIG 5 ;
                                            DUP ;
                                            DUG 6 ;
                                            CAR ;
                                            CDR ;
                                            CDR ;
                                            CDR ;
                                            CAR ;
                                            DIG 2 ;
                                            DUP ;
                                            DUG 3 ;
                                            CDR ;
                                            CDR ;
                                            DIG 4 ;
                                            DUP ;
                                            DUG 5 ;
                                            CAR ;
                                            PAIR ;
                                            GET ;
                                            IF_NONE { PUSH int 698 ; FAILWITH } {} ;
                                            COMPARE ;
                                            GE ;
                                            IF {} { PUSH string "FA2_INSUFFICIENT_BALANCE" ; FAILWITH } ;
                                            DIG 4 ;
                                            DUP ;
                                            DUG 5 ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            DIG 7 ;
                                            DUP ;
                                            DUG 8 ;
                                            CDR ;
                                            CDR ;
                                            DIG 9 ;
                                            DUP ;
                                            DUG 10 ;
                                            CAR ;
                                            PAIR ;
                                            DUP ;
                                            DUG 2 ;
                                            GET ;
                                            IF_NONE { PUSH int 702 ; FAILWITH } { DROP } ;
                                            DIG 7 ;
                                            DUP ;
                                            DUG 8 ;
                                            CAR ;
                                            DIG 12 ;
                                            CAR ;
                                            CDR ;
                                            CDR ;
                                            CDR ;
                                            CAR ;
                                            DIG 9 ;
                                            DUP ;
                                            DUG 10 ;
                                            CDR ;
                                            CDR ;
                                            DIG 11 ;
                                            DUP ;
                                            DUG 12 ;
                                            CAR ;
                                            PAIR ;
                                            GET ;
                                            IF_NONE { PUSH int 702 ; FAILWITH } {} ;
                                            SUB ;
                                            ISNAT ;
                                            IF_NONE { PUSH int 702 ; FAILWITH } {} ;
                                            SOME ;
                                            SWAP ;
                                            UPDATE ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            PAIR ;
                                            DUP ;
                                            DUG 5 ;
                                            CAR ;
                                            CDR ;
                                            CDR ;
                                            CDR ;
                                            CAR ;
                                            SWAP ;
                                            DUP ;
                                            CDR ;
                                            CDR ;
                                            SWAP ;
                                            DUP ;
                                            DUG 3 ;
                                            CDR ;
                                            CAR ;
                                            PAIR ;
                                            MEM ;
                                            IF { DIG 4 ;
                                                 DUP ;
                                                 DUG 5 ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DUP ;
                                                 DIG 7 ;
                                                 DUP ;
                                                 CDR ;
                                                 CDR ;
                                                 SWAP ;
                                                 DUP ;
                                                 DUG 9 ;
                                                 CDR ;
                                                 CAR ;
                                                 PAIR ;
                                                 DUP ;
                                                 DUG 2 ;
                                                 GET ;
                                                 IF_NONE { PUSH int 705 ; FAILWITH } { DROP } ;
                                                 DIG 7 ;
                                                 DUP ;
                                                 DUG 8 ;
                                                 CAR ;
                                                 DIG 12 ;
                                                 CAR ;
                                                 CDR ;
                                                 CDR ;
                                                 CDR ;
                                                 CAR ;
                                                 DIG 9 ;
                                                 DUP ;
                                                 CDR ;
                                                 CDR ;
                                                 SWAP ;
                                                 DUP ;
                                                 DUG 11 ;
                                                 CDR ;
                                                 CAR ;
                                                 PAIR ;
                                                 GET ;
                                                 IF_NONE { PUSH int 705 ; FAILWITH } {} ;
                                                 ADD ;
                                                 SOME ;
                                                 SWAP ;
                                                 UPDATE ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 PAIR ;
                                                 DUG 4 }
                                               { DIG 4 ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DIG 6 ;
                                                 DUP ;
                                                 DUG 7 ;
                                                 CAR ;
                                                 SOME ;
                                                 DIG 7 ;
                                                 DUP ;
                                                 CDR ;
                                                 CDR ;
                                                 SWAP ;
                                                 DUP ;
                                                 DUG 9 ;
                                                 CDR ;
                                                 CAR ;
                                                 PAIR ;
                                                 UPDATE ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 PAIR ;
                                                 DUG 4 } ;
                                            DIG 4 ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            DIG 6 ;
                                            DUP ;
                                            DUG 7 ;
                                            CDR ;
                                            CDR ;
                                            DUP ;
                                            DUG 2 ;
                                            GET ;
                                            IF_NONE { PUSH int 712 ; FAILWITH } {} ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            CDR ;
                                            DIG 14 ;
                                            DUP ;
                                            DUG 15 ;
                                            CDR ;
                                            CAR ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SOME ;
                                            SWAP ;
                                            UPDATE ;
                                            SWAP ;
                                            PAIR ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            DIG 6 ;
                                            CDR ;
                                            CDR ;
                                            DUP ;
                                            DUG 2 ;
                                            GET ;
                                            IF_NONE { PUSH int 715 ; FAILWITH } {} ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            CDR ;
                                            PUSH bool False ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SOME ;
                                            SWAP ;
                                            UPDATE ;
                                            SWAP ;
                                            PAIR ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            DUG 3 }
                                          { DROP } } ;
                                DROP } ;
                         SWAP ;
                         DROP }
                       { IF_LEFT
                           { SOURCE ;
                             SENDER ;
                             COMPARE ;
                             EQ ;
                             IF {} { PUSH int 580 ; FAILWITH } ;
                             NIL operation ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             GET ;
                             IF_NONE { PUSH int 581 ; FAILWITH } {} ;
                             CONTRACT %cancel_auction unit ;
                             IF_NONE { PUSH int 581 ; FAILWITH } {} ;
                             AMOUNT ;
                             UNIT ;
                             TRANSFER_TOKENS ;
                             CONS ;
                             DIG 2 ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             NONE address ;
                             DIG 8 ;
                             UPDATE ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             PAIR ;
                             PAIR ;
                             SWAP }
                           { SWAP ;
                             DUP ;
                             DUG 2 ;
                             CAR ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             SWAP ;
                             DUP ;
                             DUG 2 ;
                             MEM ;
                             IF { PUSH int 547 ; FAILWITH } {} ;
                             PUSH nat 1 ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             CAR ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             SENDER ;
                             PAIR ;
                             GET ;
                             IF_NONE { PUSH int 552 ; FAILWITH } {} ;
                             COMPARE ;
                             GE ;
                             IF {} { PUSH int 552 ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             DIG 6 ;
                             DUP ;
                             DUG 2 ;
                             GET ;
                             IF_NONE { PUSH int 553 ; FAILWITH } {} ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             CDR ;
                             PUSH bool False ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SOME ;
                             SWAP ;
                             UPDATE ;
                             SWAP ;
                             PAIR ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             NIL operation } } } }
               { IF_LEFT
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 592 ; FAILWITH } {} ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 592 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         DIG 6 ;
                         DUP ;
                         DUG 7 ;
                         CDR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 597 ; FAILWITH } {} ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         CDR ;
                         AMOUNT ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         NIL operation ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 673 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 672 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 677 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 676 ; FAILWITH } {} ;
                         CAR ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CONTRACT unit ;
                         IF_NONE { PUSH int 681 ; FAILWITH } {} ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 5 ;
                         DUP ;
                         DUG 6 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 662 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 676 ; FAILWITH } {} ;
                         CAR ;
                         PUSH nat 100 ;
                         AMOUNT ;
                         DIG 6 ;
                         DUP ;
                         DUG 7 ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         MUL ;
                         EDIV ;
                         IF_NONE { PUSH int 672 ; FAILWITH } {} ;
                         CAR ;
                         AMOUNT ;
                         SUB ;
                         SUB ;
                         UNIT ;
                         TRANSFER_TOKENS ;
                         CONS ;
                         NIL (pair (address %from_)
                                   (list %txs (pair (nat %amount) (pair (address %to_) (nat %token_id))))) ;
                         NIL (pair (nat %amount) (pair (address %to_) (nat %token_id))) ;
                         DIG 3 ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         DUP ;
                         DUG 5 ;
                         CAR ;
                         PAIR %to_ %token_id ;
                         PUSH nat 1 ;
                         PAIR %amount ;
                         CONS ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         CDR ;
                         CDR ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         DUP ;
                         DUG 5 ;
                         CDR ;
                         GET ;
                         IF_NONE { PUSH int 599 ; FAILWITH } {} ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         PAIR %from_ %txs ;
                         CONS ;
                         ITER { DUP ;
                                CDR ;
                                ITER { DUP ;
                                       CAR ;
                                       PUSH nat 0 ;
                                       COMPARE ;
                                       LT ;
                                       IF {} { PUSH string "TRANSFER_OF_ZERO" ; FAILWITH } ;
                                       DIG 4 ;
                                       DUP ;
                                       DUG 5 ;
                                       CDR ;
                                       CDR ;
                                       CAR ;
                                       CDR ;
                                       SWAP ;
                                       DUP ;
                                       DUG 2 ;
                                       CDR ;
                                       CDR ;
                                       MEM ;
                                       IF {} { PUSH string "FA2_TOKEN_UNDEFINED" ; FAILWITH } ;
                                       DUP ;
                                       CAR ;
                                       PUSH nat 0 ;
                                       COMPARE ;
                                       LT ;
                                       IF { DUP ;
                                            CAR ;
                                            DIG 5 ;
                                            DUP ;
                                            DUG 6 ;
                                            CAR ;
                                            CDR ;
                                            CDR ;
                                            CDR ;
                                            CAR ;
                                            DIG 2 ;
                                            DUP ;
                                            DUG 3 ;
                                            CDR ;
                                            CDR ;
                                            DIG 4 ;
                                            DUP ;
                                            DUG 5 ;
                                            CAR ;
                                            PAIR ;
                                            GET ;
                                            IF_NONE { PUSH int 698 ; FAILWITH } {} ;
                                            COMPARE ;
                                            GE ;
                                            IF {} { PUSH string "FA2_INSUFFICIENT_BALANCE" ; FAILWITH } ;
                                            DIG 4 ;
                                            DUP ;
                                            DUG 5 ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            DIG 7 ;
                                            DUP ;
                                            DUG 8 ;
                                            CDR ;
                                            CDR ;
                                            DIG 9 ;
                                            DUP ;
                                            DUG 10 ;
                                            CAR ;
                                            PAIR ;
                                            DUP ;
                                            DUG 2 ;
                                            GET ;
                                            IF_NONE { PUSH int 702 ; FAILWITH } { DROP } ;
                                            DIG 7 ;
                                            DUP ;
                                            DUG 8 ;
                                            CAR ;
                                            DIG 12 ;
                                            CAR ;
                                            CDR ;
                                            CDR ;
                                            CDR ;
                                            CAR ;
                                            DIG 9 ;
                                            DUP ;
                                            DUG 10 ;
                                            CDR ;
                                            CDR ;
                                            DIG 11 ;
                                            DUP ;
                                            DUG 12 ;
                                            CAR ;
                                            PAIR ;
                                            GET ;
                                            IF_NONE { PUSH int 702 ; FAILWITH } {} ;
                                            SUB ;
                                            ISNAT ;
                                            IF_NONE { PUSH int 702 ; FAILWITH } {} ;
                                            SOME ;
                                            SWAP ;
                                            UPDATE ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            PAIR ;
                                            DUP ;
                                            DUG 5 ;
                                            CAR ;
                                            CDR ;
                                            CDR ;
                                            CDR ;
                                            CAR ;
                                            SWAP ;
                                            DUP ;
                                            CDR ;
                                            CDR ;
                                            SWAP ;
                                            DUP ;
                                            DUG 3 ;
                                            CDR ;
                                            CAR ;
                                            PAIR ;
                                            MEM ;
                                            IF { DIG 4 ;
                                                 DUP ;
                                                 DUG 5 ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DUP ;
                                                 DIG 7 ;
                                                 DUP ;
                                                 CDR ;
                                                 CDR ;
                                                 SWAP ;
                                                 DUP ;
                                                 DUG 9 ;
                                                 CDR ;
                                                 CAR ;
                                                 PAIR ;
                                                 DUP ;
                                                 DUG 2 ;
                                                 GET ;
                                                 IF_NONE { PUSH int 705 ; FAILWITH } { DROP } ;
                                                 DIG 7 ;
                                                 DUP ;
                                                 DUG 8 ;
                                                 CAR ;
                                                 DIG 12 ;
                                                 CAR ;
                                                 CDR ;
                                                 CDR ;
                                                 CDR ;
                                                 CAR ;
                                                 DIG 9 ;
                                                 DUP ;
                                                 CDR ;
                                                 CDR ;
                                                 SWAP ;
                                                 DUP ;
                                                 DUG 11 ;
                                                 CDR ;
                                                 CAR ;
                                                 PAIR ;
                                                 GET ;
                                                 IF_NONE { PUSH int 705 ; FAILWITH } {} ;
                                                 ADD ;
                                                 SOME ;
                                                 SWAP ;
                                                 UPDATE ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 PAIR ;
                                                 DUG 4 }
                                               { DIG 4 ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CAR ;
                                                 SWAP ;
                                                 CDR ;
                                                 DUP ;
                                                 CDR ;
                                                 SWAP ;
                                                 CAR ;
                                                 DIG 6 ;
                                                 DUP ;
                                                 DUG 7 ;
                                                 CAR ;
                                                 SOME ;
                                                 DIG 7 ;
                                                 DUP ;
                                                 CDR ;
                                                 CDR ;
                                                 SWAP ;
                                                 DUP ;
                                                 DUG 9 ;
                                                 CDR ;
                                                 CAR ;
                                                 PAIR ;
                                                 UPDATE ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 SWAP ;
                                                 PAIR ;
                                                 PAIR ;
                                                 DUG 4 } ;
                                            DIG 4 ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            DIG 6 ;
                                            DUP ;
                                            DUG 7 ;
                                            CDR ;
                                            CDR ;
                                            DUP ;
                                            DUG 2 ;
                                            GET ;
                                            IF_NONE { PUSH int 712 ; FAILWITH } {} ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            CDR ;
                                            DIG 14 ;
                                            DUP ;
                                            DUG 15 ;
                                            CDR ;
                                            CAR ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SOME ;
                                            SWAP ;
                                            UPDATE ;
                                            SWAP ;
                                            PAIR ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CDR ;
                                            SWAP ;
                                            CAR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            DIG 6 ;
                                            CDR ;
                                            CDR ;
                                            DUP ;
                                            DUG 2 ;
                                            GET ;
                                            IF_NONE { PUSH int 715 ; FAILWITH } {} ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            DUP ;
                                            CAR ;
                                            SWAP ;
                                            CDR ;
                                            CDR ;
                                            PUSH bool False ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SOME ;
                                            SWAP ;
                                            UPDATE ;
                                            SWAP ;
                                            PAIR ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            SWAP ;
                                            PAIR ;
                                            DUG 3 }
                                          { DROP } } ;
                                DROP } ;
                         DIG 2 ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         NONE address ;
                         DIG 8 ;
                         CDR ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         SWAP }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CDR ;
                         MEM ;
                         IF { PUSH int 530 ; FAILWITH } {} ;
                         PUSH nat 1 ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CAR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CAR ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         CDR ;
                         SENDER ;
                         PAIR ;
                         GET ;
                         IF_NONE { PUSH int 538 ; FAILWITH } {} ;
                         COMPARE ;
                         GE ;
                         IF {} { PUSH int 538 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         DIG 6 ;
                         DUP ;
                         DUG 7 ;
                         CDR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 539 ; FAILWITH } {} ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         CDR ;
                         DIG 12 ;
                         DUP ;
                         DUG 13 ;
                         CAR ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         DIG 6 ;
                         CDR ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 540 ; FAILWITH } {} ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         CDR ;
                         PUSH bool True ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         NIL operation } }
                   { IF_LEFT
                       { SOURCE ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 854 ; FAILWITH } ;
                         DUP ;
                         CDR ;
                         CAR ;
                         PUSH nat 1 ;
                         SWAP ;
                         COMPARE ;
                         GE ;
                         IF {} { PUSH int 858 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         CDR ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CDR ;
                         CAR ;
                         COMPARE ;
                         LE ;
                         IF {} { PUSH int 860 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CDR ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CDR ;
                         COMPARE ;
                         LE ;
                         IF {} { PUSH int 862 ; FAILWITH } ;
                         DUP ;
                         CDR ;
                         CAR ;
                         PUSH nat 1 ;
                         COMPARE ;
                         EQ ;
                         IF { DUP ;
                              CAR ;
                              CAR ;
                              PUSH nat 0 ;
                              COMPARE ;
                              EQ ;
                              IF {} { PUSH int 866 ; FAILWITH } }
                            { SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              COMPARE ;
                              LT ;
                              IF { PUSH string "collection_id_exists" ; FAILWITH } {} ;
                              SWAP ;
                              DUP ;
                              CAR ;
                              CDR ;
                              CAR ;
                              CDR ;
                              SWAP ;
                              DUP ;
                              DUG 3 ;
                              CAR ;
                              CAR ;
                              CAR ;
                              CDR ;
                              ADD ;
                              SWAP ;
                              DUP ;
                              DUG 2 ;
                              CAR ;
                              CAR ;
                              COMPARE ;
                              LT ;
                              IF {} { PUSH string "refer all_collections" ; FAILWITH } } ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         CAR ;
                         DIG 5 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         CDR ;
                         DUP ;
                         PUSH nat 1 ;
                         DIG 7 ;
                         DUP ;
                         DUG 8 ;
                         CAR ;
                         CAR ;
                         ADD ;
                         DUP ;
                         DUG 2 ;
                         COMPARE ;
                         LE ;
                         IF { DROP } { SWAP ; DROP } ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         CAR ;
                         PUSH nat 0 ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         DUP ;
                         CDR ;
                         CAR ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CDR ;
                         CDR ;
                         ADD ;
                         SWAP ;
                         DUP ;
                         DUG 2 ;
                         CDR ;
                         CDR ;
                         DUP ;
                         DIG 2 ;
                         DUP ;
                         DUG 3 ;
                         COMPARE ;
                         GT ;
                         LOOP { DIG 3 ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                PUSH nat 1 ;
                                ADD ;
                                SWAP ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                DUP ;
                                DUG 4 ;
                                CAR ;
                                CAR ;
                                CDR ;
                                CAR ;
                                SWAP ;
                                DUP ;
                                DUG 2 ;
                                COMPARE ;
                                LT ;
                                IF { PUSH string "token_id_exists" ; FAILWITH } {} ;
                                DIG 3 ;
                                DUP ;
                                DUG 4 ;
                                CDR ;
                                CDR ;
                                CAR ;
                                CDR ;
                                SWAP ;
                                DUP ;
                                DUG 2 ;
                                MEM ;
                                IF { PUSH int 896 ; FAILWITH } {} ;
                                DIG 3 ;
                                DUP ;
                                CAR ;
                                CDR ;
                                CAR ;
                                CDR ;
                                SWAP ;
                                DUP ;
                                DUG 5 ;
                                CAR ;
                                CAR ;
                                CDR ;
                                CAR ;
                                ADD ;
                                DIG 3 ;
                                DUP ;
                                DUG 4 ;
                                CDR ;
                                CDR ;
                                COMPARE ;
                                LT ;
                                IF {} { PUSH string "refer all_tokens" ; FAILWITH } ;
                                DIG 3 ;
                                DUP ;
                                DUG 4 ;
                                DUP ;
                                CDR ;
                                SWAP ;
                                CAR ;
                                DUP ;
                                CDR ;
                                SWAP ;
                                CAR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                CDR ;
                                DIG 7 ;
                                CAR ;
                                CAR ;
                                CDR ;
                                CAR ;
                                DUP ;
                                PUSH nat 1 ;
                                DIG 7 ;
                                DUP ;
                                DUG 8 ;
                                ADD ;
                                DUP ;
                                DUG 2 ;
                                COMPARE ;
                                LE ;
                                IF { DROP } { SWAP ; DROP } ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                PAIR ;
                                PAIR ;
                                DUP ;
                                DUG 4 ;
                                CAR ;
                                CDR ;
                                CDR ;
                                CDR ;
                                CAR ;
                                SWAP ;
                                DUP ;
                                DUG 2 ;
                                SENDER ;
                                PAIR ;
                                MEM ;
                                IF {}
                                   { DIG 3 ;
                                     DUP ;
                                     CDR ;
                                     SWAP ;
                                     CAR ;
                                     DUP ;
                                     CAR ;
                                     SWAP ;
                                     CDR ;
                                     DUP ;
                                     CAR ;
                                     SWAP ;
                                     CDR ;
                                     DUP ;
                                     CAR ;
                                     SWAP ;
                                     CDR ;
                                     DUP ;
                                     CDR ;
                                     SWAP ;
                                     CAR ;
                                     PUSH (option nat) (Some 1) ;
                                     DIG 7 ;
                                     DUP ;
                                     DUG 8 ;
                                     SENDER ;
                                     PAIR ;
                                     UPDATE ;
                                     PAIR ;
                                     SWAP ;
                                     PAIR ;
                                     SWAP ;
                                     PAIR ;
                                     SWAP ;
                                     PAIR ;
                                     PAIR ;
                                     DUG 3 } ;
                                PUSH nat 1 ;
                                DIG 3 ;
                                DUP ;
                                DUG 4 ;
                                CDR ;
                                CAR ;
                                COMPARE ;
                                GT ;
                                IF { DIG 3 ;
                                     DUP ;
                                     DUG 4 ;
                                     CAR ;
                                     CDR ;
                                     CAR ;
                                     CAR ;
                                     DIG 3 ;
                                     DUP ;
                                     DUG 4 ;
                                     CAR ;
                                     CAR ;
                                     MEM ;
                                     IF { DIG 3 ;
                                          DUP ;
                                          DUG 4 ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DIG 8 ;
                                          CAR ;
                                          CDR ;
                                          CAR ;
                                          CAR ;
                                          DIG 8 ;
                                          DUP ;
                                          DUG 9 ;
                                          CAR ;
                                          CAR ;
                                          GET ;
                                          IF_NONE { PUSH int 911 ; FAILWITH } {} ;
                                          DIG 6 ;
                                          DUP ;
                                          DUG 7 ;
                                          CONS ;
                                          SOME ;
                                          DIG 8 ;
                                          DUP ;
                                          DUG 9 ;
                                          CAR ;
                                          CAR ;
                                          UPDATE ;
                                          PAIR ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          PAIR ;
                                          DUG 3 }
                                        { DIG 3 ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DUP ;
                                          CAR ;
                                          SWAP ;
                                          CDR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          DUP ;
                                          CDR ;
                                          SWAP ;
                                          CAR ;
                                          NIL nat ;
                                          DIG 6 ;
                                          DUP ;
                                          DUG 7 ;
                                          CONS ;
                                          SOME ;
                                          DIG 8 ;
                                          DUP ;
                                          DUG 9 ;
                                          CAR ;
                                          CAR ;
                                          UPDATE ;
                                          PAIR ;
                                          PAIR ;
                                          SWAP ;
                                          PAIR ;
                                          PAIR ;
                                          DUG 3 } }
                                   {} ;
                                DIG 3 ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CDR ;
                                SWAP ;
                                CAR ;
                                DUP ;
                                CDR ;
                                SWAP ;
                                CAR ;
                                PUSH (option (map string bytes)) (Some {}) ;
                                DIG 6 ;
                                DUP ;
                                DUG 7 ;
                                UPDATE ;
                                PAIR ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CAR ;
                                SWAP ;
                                CDR ;
                                DUP ;
                                CDR ;
                                SWAP ;
                                CAR ;
                                DUP ;
                                CDR ;
                                SWAP ;
                                CAR ;
                                DUP ;
                                DIG 6 ;
                                DUP ;
                                DUG 7 ;
                                DUP ;
                                DUG 2 ;
                                GET ;
                                IF_NONE { PUSH int 918 ; FAILWITH } {} ;
                                PUSH (option bytes) (Some 0x30) ;
                                PUSH string "decimals" ;
                                UPDATE ;
                                SOME ;
                                SWAP ;
                                UPDATE ;
                                PAIR ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                SWAP ;
                                PAIR ;
                                DUG 3 ;
                                PUSH nat 1 ;
                                ADD ;
                                DUP ;
                                DIG 2 ;
                                DUP ;
                                DUG 3 ;
                                COMPARE ;
                                GT } ;
                         DROP 3 ;
                         NIL operation }
                       { IF_LEFT
                           { SWAP ;
                             DUP ;
                             DUG 2 ;
                             CAR ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CAR ;
                             SENDER ;
                             COMPARE ;
                             EQ ;
                             IF {} { PUSH int 611 ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             DUG 2 ;
                             CDR ;
                             CDR ;
                             CAR ;
                             CDR ;
                             SWAP ;
                             DUP ;
                             DUG 2 ;
                             CDR ;
                             CDR ;
                             MEM ;
                             IF {} { PUSH int 612 ; FAILWITH } ;
                             PUSH nat 1 ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             CAR ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CDR ;
                             CDR ;
                             SOURCE ;
                             PAIR ;
                             GET ;
                             IF_NONE { PUSH int 616 ; FAILWITH } {} ;
                             COMPARE ;
                             GE ;
                             IF {} { PUSH int 616 ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             DUG 2 ;
                             CAR ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             SWAP ;
                             DUP ;
                             DUG 2 ;
                             CDR ;
                             CDR ;
                             MEM ;
                             IF { PUSH int 617 ; FAILWITH } {} ;
                             SWAP ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DIG 6 ;
                             DUP ;
                             DUG 7 ;
                             CAR ;
                             SOME ;
                             DIG 7 ;
                             DUP ;
                             DUG 8 ;
                             CDR ;
                             CDR ;
                             UPDATE ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             PAIR ;
                             PAIR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             DIG 6 ;
                             DUP ;
                             DUG 7 ;
                             CDR ;
                             CDR ;
                             DUP ;
                             DUG 2 ;
                             GET ;
                             IF_NONE { PUSH int 621 ; FAILWITH } {} ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             CDR ;
                             DIG 12 ;
                             CDR ;
                             CAR ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SOME ;
                             SWAP ;
                             UPDATE ;
                             SWAP ;
                             PAIR ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             NIL operation }
                           { SOURCE ;
                             SENDER ;
                             COMPARE ;
                             EQ ;
                             IF {} { PUSH int 567 ; FAILWITH } ;
                             NIL operation ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             DIG 2 ;
                             GET ;
                             IF_NONE { PUSH int 568 ; FAILWITH } {} ;
                             CONTRACT %resolve_auction unit ;
                             IF_NONE { PUSH int 568 ; FAILWITH } {} ;
                             AMOUNT ;
                             UNIT ;
                             TRANSFER_TOKENS ;
                             CONS } } } } }
           { IF_LEFT
               { IF_LEFT
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 810 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         PAIR }
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 513 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         CDR ;
                         DIG 5 ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR } }
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 481 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DIG 5 ;
                         SOME ;
                         PUSH string "" ;
                         UPDATE ;
                         SWAP ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PAIR }
                       { IF_LEFT
                           { SWAP ;
                             DUP ;
                             DUG 2 ;
                             CAR ;
                             CAR ;
                             CAR ;
                             CAR ;
                             SENDER ;
                             COMPARE ;
                             EQ ;
                             IF {} { PUSH int 508 ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             CDR ;
                             DIG 4 ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             PAIR }
                           { SWAP ;
                             DUP ;
                             DUG 2 ;
                             CAR ;
                             CAR ;
                             CAR ;
                             CAR ;
                             SENDER ;
                             COMPARE ;
                             EQ ;
                             IF {} { PUSH int 487 ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             CAR ;
                             DIG 5 ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             PAIR } } } }
               { IF_LEFT
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 492 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         DUP ;
                         CDR ;
                         SWAP ;
                         CAR ;
                         CDR ;
                         DIG 4 ;
                         PAIR ;
                         PAIR ;
                         PAIR ;
                         SWAP ;
                         PAIR }
                       { IF_LEFT
                           { PUSH nat 1 ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             CDR ;
                             CDR ;
                             CDR ;
                             CAR ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             SENDER ;
                             PAIR ;
                             GET ;
                             IF_NONE { PUSH int 520 ; FAILWITH } {} ;
                             COMPARE ;
                             GE ;
                             IF {} { PUSH string "FA2_NOT_OWNER" ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             CDR ;
                             SWAP ;
                             CAR ;
                             DUP ;
                             DIG 6 ;
                             DUP ;
                             DUG 7 ;
                             CAR ;
                             DUP ;
                             DUG 2 ;
                             GET ;
                             IF_NONE { PUSH int 522 ; FAILWITH } {} ;
                             DIG 7 ;
                             CDR ;
                             SOME ;
                             PUSH string "" ;
                             UPDATE ;
                             SOME ;
                             SWAP ;
                             UPDATE ;
                             PAIR ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR }
                           { SWAP ;
                             DUP ;
                             DUG 2 ;
                             CAR ;
                             CAR ;
                             CAR ;
                             CAR ;
                             SENDER ;
                             COMPARE ;
                             EQ ;
                             IF {} { PUSH int 497 ; FAILWITH } ;
                             SWAP ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             DUP ;
                             CAR ;
                             SWAP ;
                             CDR ;
                             CDR ;
                             DIG 4 ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR ;
                             SWAP ;
                             PAIR } } }
                   { IF_LEFT
                       { SWAP ;
                         DUP ;
                         DUG 2 ;
                         CAR ;
                         CAR ;
                         CAR ;
                         CAR ;
                         SENDER ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH int 502 ; FAILWITH } ;
                         SWAP ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         DUP ;
                         CAR ;
                         SWAP ;
                         CDR ;
                         CDR ;
                         DIG 5 ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR ;
                         SWAP ;
                         PAIR }
                       { IF_LEFT
                           { DUP ;
                             ITER { DUP ;
                                    CDR ;
                                    ITER { SENDER ;
                                           DIG 2 ;
                                           DUP ;
                                           DUG 3 ;
                                           CAR ;
                                           COMPARE ;
                                           EQ ;
                                           IF { PUSH bool True }
                                              { DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                CDR ;
                                                CAR ;
                                                CDR ;
                                                CDR ;
                                                CAR ;
                                                SWAP ;
                                                DUP ;
                                                DUG 2 ;
                                                CDR ;
                                                CAR ;
                                                SENDER ;
                                                PAIR %operator %token_id ;
                                                DIG 3 ;
                                                DUP ;
                                                DUG 4 ;
                                                CAR ;
                                                PAIR %owner ;
                                                MEM } ;
                                           IF {} { PUSH string "FA2_NOT_OPERATOR" ; FAILWITH } ;
                                           NIL (pair (address %from_)
                                                     (list %txs (pair (nat %amount) (pair (address %to_) (nat %token_id))))) ;
                                           NIL (pair (nat %amount) (pair (address %to_) (nat %token_id))) ;
                                           DIG 2 ;
                                           DUP ;
                                           CDR ;
                                           CAR ;
                                           SWAP ;
                                           DUP ;
                                           DUG 4 ;
                                           CAR ;
                                           PAIR %to_ %token_id ;
                                           DIG 3 ;
                                           DUP ;
                                           DUG 4 ;
                                           CDR ;
                                           CDR ;
                                           PAIR %amount ;
                                           CONS ;
                                           DIG 3 ;
                                           DUP ;
                                           DUG 4 ;
                                           CAR ;
                                           PAIR %from_ %txs ;
                                           CONS ;
                                           ITER { DUP ;
                                                  CDR ;
                                                  ITER { DUP ;
                                                         CAR ;
                                                         PUSH nat 0 ;
                                                         COMPARE ;
                                                         LT ;
                                                         IF {} { PUSH string "TRANSFER_OF_ZERO" ; FAILWITH } ;
                                                         DIG 5 ;
                                                         DUP ;
                                                         DUG 6 ;
                                                         CDR ;
                                                         CDR ;
                                                         CAR ;
                                                         CDR ;
                                                         SWAP ;
                                                         DUP ;
                                                         DUG 2 ;
                                                         CDR ;
                                                         CDR ;
                                                         MEM ;
                                                         IF {} { PUSH string "FA2_TOKEN_UNDEFINED" ; FAILWITH } ;
                                                         DUP ;
                                                         CAR ;
                                                         PUSH nat 0 ;
                                                         COMPARE ;
                                                         LT ;
                                                         IF { DUP ;
                                                              CAR ;
                                                              DIG 6 ;
                                                              DUP ;
                                                              DUG 7 ;
                                                              CAR ;
                                                              CDR ;
                                                              CDR ;
                                                              CDR ;
                                                              CAR ;
                                                              DIG 2 ;
                                                              DUP ;
                                                              DUG 3 ;
                                                              CDR ;
                                                              CDR ;
                                                              DIG 4 ;
                                                              DUP ;
                                                              DUG 5 ;
                                                              CAR ;
                                                              PAIR ;
                                                              GET ;
                                                              IF_NONE { PUSH int 698 ; FAILWITH } {} ;
                                                              COMPARE ;
                                                              GE ;
                                                              IF {} { PUSH string "FA2_INSUFFICIENT_BALANCE" ; FAILWITH } ;
                                                              DIG 5 ;
                                                              DUP ;
                                                              DUG 6 ;
                                                              DUP ;
                                                              CDR ;
                                                              SWAP ;
                                                              CAR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CDR ;
                                                              SWAP ;
                                                              CAR ;
                                                              DUP ;
                                                              DIG 7 ;
                                                              DUP ;
                                                              DUG 8 ;
                                                              CDR ;
                                                              CDR ;
                                                              DIG 9 ;
                                                              DUP ;
                                                              DUG 10 ;
                                                              CAR ;
                                                              PAIR ;
                                                              DUP ;
                                                              DUG 2 ;
                                                              GET ;
                                                              IF_NONE { PUSH int 702 ; FAILWITH } { DROP } ;
                                                              DIG 7 ;
                                                              DUP ;
                                                              DUG 8 ;
                                                              CAR ;
                                                              DIG 13 ;
                                                              CAR ;
                                                              CDR ;
                                                              CDR ;
                                                              CDR ;
                                                              CAR ;
                                                              DIG 9 ;
                                                              DUP ;
                                                              DUG 10 ;
                                                              CDR ;
                                                              CDR ;
                                                              DIG 11 ;
                                                              DUP ;
                                                              DUG 12 ;
                                                              CAR ;
                                                              PAIR ;
                                                              GET ;
                                                              IF_NONE { PUSH int 702 ; FAILWITH } {} ;
                                                              SUB ;
                                                              ISNAT ;
                                                              IF_NONE { PUSH int 702 ; FAILWITH } {} ;
                                                              SOME ;
                                                              SWAP ;
                                                              UPDATE ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              PAIR ;
                                                              DUP ;
                                                              DUG 6 ;
                                                              CAR ;
                                                              CDR ;
                                                              CDR ;
                                                              CDR ;
                                                              CAR ;
                                                              SWAP ;
                                                              DUP ;
                                                              CDR ;
                                                              CDR ;
                                                              SWAP ;
                                                              DUP ;
                                                              DUG 3 ;
                                                              CDR ;
                                                              CAR ;
                                                              PAIR ;
                                                              MEM ;
                                                              IF { DIG 5 ;
                                                                   DUP ;
                                                                   DUG 6 ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   CAR ;
                                                                   DUP ;
                                                                   CAR ;
                                                                   SWAP ;
                                                                   CDR ;
                                                                   DUP ;
                                                                   CAR ;
                                                                   SWAP ;
                                                                   CDR ;
                                                                   DUP ;
                                                                   CAR ;
                                                                   SWAP ;
                                                                   CDR ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   CAR ;
                                                                   DUP ;
                                                                   DIG 7 ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   DUP ;
                                                                   DUG 9 ;
                                                                   CDR ;
                                                                   CAR ;
                                                                   PAIR ;
                                                                   DUP ;
                                                                   DUG 2 ;
                                                                   GET ;
                                                                   IF_NONE { PUSH int 705 ; FAILWITH } { DROP } ;
                                                                   DIG 7 ;
                                                                   DUP ;
                                                                   DUG 8 ;
                                                                   CAR ;
                                                                   DIG 13 ;
                                                                   CAR ;
                                                                   CDR ;
                                                                   CDR ;
                                                                   CDR ;
                                                                   CAR ;
                                                                   DIG 9 ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   DUP ;
                                                                   DUG 11 ;
                                                                   CDR ;
                                                                   CAR ;
                                                                   PAIR ;
                                                                   GET ;
                                                                   IF_NONE { PUSH int 705 ; FAILWITH } {} ;
                                                                   ADD ;
                                                                   SOME ;
                                                                   SWAP ;
                                                                   UPDATE ;
                                                                   PAIR ;
                                                                   SWAP ;
                                                                   PAIR ;
                                                                   SWAP ;
                                                                   PAIR ;
                                                                   SWAP ;
                                                                   PAIR ;
                                                                   PAIR ;
                                                                   DUG 5 }
                                                                 { DIG 5 ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   CAR ;
                                                                   DUP ;
                                                                   CAR ;
                                                                   SWAP ;
                                                                   CDR ;
                                                                   DUP ;
                                                                   CAR ;
                                                                   SWAP ;
                                                                   CDR ;
                                                                   DUP ;
                                                                   CAR ;
                                                                   SWAP ;
                                                                   CDR ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   CAR ;
                                                                   DIG 6 ;
                                                                   DUP ;
                                                                   DUG 7 ;
                                                                   CAR ;
                                                                   SOME ;
                                                                   DIG 7 ;
                                                                   DUP ;
                                                                   CDR ;
                                                                   CDR ;
                                                                   SWAP ;
                                                                   DUP ;
                                                                   DUG 9 ;
                                                                   CDR ;
                                                                   CAR ;
                                                                   PAIR ;
                                                                   UPDATE ;
                                                                   PAIR ;
                                                                   SWAP ;
                                                                   PAIR ;
                                                                   SWAP ;
                                                                   PAIR ;
                                                                   SWAP ;
                                                                   PAIR ;
                                                                   PAIR ;
                                                                   DUG 5 } ;
                                                              DIG 5 ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CDR ;
                                                              SWAP ;
                                                              CAR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              DIG 6 ;
                                                              DUP ;
                                                              DUG 7 ;
                                                              CDR ;
                                                              CDR ;
                                                              DUP ;
                                                              DUG 2 ;
                                                              GET ;
                                                              IF_NONE { PUSH int 712 ; FAILWITH } {} ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              CDR ;
                                                              DIG 14 ;
                                                              DUP ;
                                                              DUG 15 ;
                                                              CDR ;
                                                              CAR ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SOME ;
                                                              SWAP ;
                                                              UPDATE ;
                                                              SWAP ;
                                                              PAIR ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CDR ;
                                                              SWAP ;
                                                              CAR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              DIG 6 ;
                                                              CDR ;
                                                              CDR ;
                                                              DUP ;
                                                              DUG 2 ;
                                                              GET ;
                                                              IF_NONE { PUSH int 715 ; FAILWITH } {} ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              DUP ;
                                                              CAR ;
                                                              SWAP ;
                                                              CDR ;
                                                              CDR ;
                                                              PUSH bool False ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SOME ;
                                                              SWAP ;
                                                              UPDATE ;
                                                              SWAP ;
                                                              PAIR ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              SWAP ;
                                                              PAIR ;
                                                              DUG 4 }
                                                            { DROP } } ;
                                                  DROP } ;
                                           DROP } ;
                                    DROP } ;
                             DROP }
                           { DUP ;
                             ITER { IF_LEFT
                                      { DUP ;
                                        CAR ;
                                        SENDER ;
                                        COMPARE ;
                                        EQ ;
                                        IF {} { PUSH int 785 ; FAILWITH } ;
                                        DIG 2 ;
                                        DUP ;
                                        CAR ;
                                        SWAP ;
                                        CDR ;
                                        DUP ;
                                        CDR ;
                                        SWAP ;
                                        CAR ;
                                        DUP ;
                                        CAR ;
                                        SWAP ;
                                        CDR ;
                                        DUP ;
                                        CAR ;
                                        SWAP ;
                                        CDR ;
                                        DUP ;
                                        CDR ;
                                        SWAP ;
                                        CAR ;
                                        PUSH (option unit) (Some Unit) ;
                                        DIG 7 ;
                                        DUP ;
                                        CDR ;
                                        CDR ;
                                        SWAP ;
                                        DUP ;
                                        DUG 9 ;
                                        CDR ;
                                        CAR ;
                                        PAIR %operator %token_id ;
                                        DIG 8 ;
                                        CAR ;
                                        PAIR %owner ;
                                        UPDATE ;
                                        PAIR ;
                                        SWAP ;
                                        PAIR ;
                                        SWAP ;
                                        PAIR ;
                                        PAIR ;
                                        SWAP ;
                                        PAIR ;
                                        SWAP }
                                      { DUP ;
                                        CAR ;
                                        SENDER ;
                                        COMPARE ;
                                        EQ ;
                                        IF {} { PUSH int 792 ; FAILWITH } ;
                                        DIG 2 ;
                                        DUP ;
                                        CAR ;
                                        SWAP ;
                                        CDR ;
                                        DUP ;
                                        CDR ;
                                        SWAP ;
                                        CAR ;
                                        DUP ;
                                        CAR ;
                                        SWAP ;
                                        CDR ;
                                        DUP ;
                                        CAR ;
                                        SWAP ;
                                        CDR ;
                                        DUP ;
                                        CDR ;
                                        SWAP ;
                                        CAR ;
                                        NONE unit ;
                                        DIG 7 ;
                                        DUP ;
                                        CDR ;
                                        CDR ;
                                        SWAP ;
                                        DUP ;
                                        DUG 9 ;
                                        CDR ;
                                        CAR ;
                                        PAIR %operator %token_id ;
                                        DIG 8 ;
                                        CAR ;
                                        PAIR %owner ;
                                        UPDATE ;
                                        PAIR ;
                                        SWAP ;
                                        PAIR ;
                                        SWAP ;
                                        PAIR ;
                                        PAIR ;
                                        SWAP ;
                                        PAIR ;
                                        SWAP } } ;
                             DROP } } } } ;
             NIL operation } ;
         NIL operation ;
         SWAP ;
         ITER { CONS } ;
         PAIR } }
