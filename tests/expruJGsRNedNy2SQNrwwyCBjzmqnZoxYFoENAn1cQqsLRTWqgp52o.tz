{ storage
    (pair (pair (string %_name) (string %_symbol))
          (pair (int %_totalSupply) (pair (big_map %balance address int) (address %manager)))) ;
  parameter (or (address %minning) (address %remove_registrar)) ;
  code { UNPAIR ;
         IF_LEFT
           { PUSH bool False ;
             DIG 2 ;
             DUP ;
             GET 5 ;
             SWAP ;
             DUP ;
             DUG 4 ;
             GET 6 ;
             MEM ;
             COMPARE ;
             EQ ;
             IF { SWAP ;
                  DUP ;
                  DUG 2 ;
                  DUP ;
                  GET 5 ;
                  DUP 4 ;
                  GET 3 ;
                  SOME ;
                  DIG 4 ;
                  GET 6 ;
                  UPDATE ;
                  UPDATE 5 ;
                  SWAP }
                {} ;
             SWAP ;
             DUP ;
             DUG 2 ;
             GET 5 ;
             SWAP ;
             DUP ;
             DUG 2 ;
             MEM ;
             IF { PUSH bool True ;
                  PACK ;
                  PUSH bool False ;
                  PACK ;
                  COMPARE ;
                  EQ ;
                  IF {} { PUSH string "You have already signed" ; FAILWITH } }
                { SWAP ;
                  DUP ;
                  GET 5 ;
                  PUSH (option int) (Some 0) ;
                  DUP 4 ;
                  UPDATE ;
                  UPDATE 5 ;
                  SWAP } ;
             PUSH int 5000 ;
             DUP 3 ;
             GET 5 ;
             DUP 3 ;
             GET ;
             IF_NONE { PUSH int 37 ; FAILWITH } {} ;
             COMPARE ;
             LT ;
             LOOP { PUSH int 10 ;
                    DIG 2 ;
                    DUP ;
                    GET 5 ;
                    SWAP ;
                    DUP ;
                    DUG 4 ;
                    GET 6 ;
                    GET ;
                    IF_NONE { PUSH int 28 ; FAILWITH } {} ;
                    COMPARE ;
                    GE ;
                    IF { SWAP ;
                         DUP ;
                         DUG 2 ;
                         DUP ;
                         GET 5 ;
                         DUP ;
                         DIG 4 ;
                         GET 6 ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 29 ; FAILWITH } {} ;
                         PUSH int 10 ;
                         SWAP ;
                         SUB ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         UPDATE 5 ;
                         DUP ;
                         GET 5 ;
                         DUP ;
                         DUP 4 ;
                         DUP ;
                         DUG 2 ;
                         GET ;
                         IF_NONE { PUSH int 30 ; FAILWITH } {} ;
                         PUSH int 10 ;
                         ADD ;
                         SOME ;
                         SWAP ;
                         UPDATE ;
                         UPDATE 5 ;
                         SWAP }
                       { PUSH bool True ;
                         PACK ;
                         PUSH bool False ;
                         PACK ;
                         COMPARE ;
                         EQ ;
                         IF {} { PUSH timestamp "2021-05-03T15:57:15Z" ; FAILWITH } } ;
                    PUSH int 5000 ;
                    DUP 3 ;
                    GET 5 ;
                    DUP 3 ;
                    GET ;
                    IF_NONE { PUSH int 37 ; FAILWITH } {} ;
                    COMPARE ;
                    LT } ;
             DROP }
           { SWAP ;
             DUP ;
             DUG 2 ;
             GET 6 ;
             PACK ;
             SENDER ;
             PACK ;
             COMPARE ;
             EQ ;
             IF {} { PUSH string "Unauthorized Action. You are not manager." ; FAILWITH } ;
             SWAP ;
             DUP ;
             GET 5 ;
             NONE int ;
             DIG 3 ;
             UPDATE ;
             UPDATE 5 } ;
         NIL operation ;
         PAIR } }
