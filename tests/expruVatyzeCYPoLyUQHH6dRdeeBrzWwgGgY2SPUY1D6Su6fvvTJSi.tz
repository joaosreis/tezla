{ storage
    (pair (pair (pair (pair (big_map %accessLogs (pair string address) (list timestamp))
                            (big_map %agreements
                               (pair address address)
                               (map timestamp (pair (map %agreements string timestamp) (timestamp %leftDate)))))
                      (big_map %companies address string))
                (address %manager))
          (big_map %users address (pair string bool))) ;
  parameter
    (or (or (or (or (or (or (pair %addAgreementForNewEmployee (string %agreementHash) (address %userAddr))
                            (pair %addCompany (address %companyAddr) (string %companyId)))
                        (pair %addUser (address %userAddr) (string %userId)))
                    (pair %employeeResign (timestamp %joinDate) (address %userAddr)))
                (address %replaceAdmin))
            (pair %updateEmployeeAgreement
               (pair (string %agreementHash) (timestamp %joinDate))
               (address %userAddr)))
        (pair %viewEmploymentAgreement
           (pair (address %address) (string %agreementHash))
           (timestamp %joinDate))) ;
  code { DUP ;
         CDR ;
         SWAP ;
         CAR ;
         IF_LEFT
           { IF_LEFT
               { IF_LEFT
                   { IF_LEFT
                       { IF_LEFT
                           { IF_LEFT
                               { { SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   CAR ;
                                   CAR ;
                                   CDR ;
                                   SENDER ;
                                   MEM ;
                                   IF { { SWAP ; DUP ; DUG 2 ; CDR ; SWAP ; DUP ; DUG 2 ; CDR ; MEM } }
                                      { PUSH bool False } ;
                                   IF { { SWAP ;
                                          DUP ;
                                          DUG 2 ;
                                          CAR ;
                                          CAR ;
                                          CAR ;
                                          CDR ;
                                          SENDER ;
                                          DIG 2 ;
                                          DUP ;
                                          DUG 3 ;
                                          CDR ;
                                          PAIR ;
                                          MEM ;
                                          NOT } }
                                      { PUSH bool False } ;
                                   IF { {} }
                                      { { PUSH string
                                               "WrongCondition: ((self.data.companies.contains(sp.sender)) & (self.data.users.contains(params.userAddr))) & (~ (self.data.agreements.contains((params.userAddr, sp.sender))))" ;
                                          FAILWITH } } ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   CDR ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   CDR ;
                                   GET ;
                                   IF_NONE { { PUSH string "Get-item:45" ; FAILWITH } } {} ;
                                   CDR ;
                                   IF { { PUSH string "WrongCondition: ~ sp.snd(self.data.users[params.userAddr])" ;
                                          FAILWITH } }
                                      { {} } ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   DUP ;
                                   CAR ;
                                   SWAP ;
                                   CDR ;
                                   PUSH bool True ;
                                   DIG 4 ;
                                   DUP ;
                                   DUG 5 ;
                                   CDR ;
                                   DIG 4 ;
                                   DUP ;
                                   DUG 5 ;
                                   CDR ;
                                   GET ;
                                   IF_NONE { { PUSH string "Get-item:45" ; FAILWITH } } {} ;
                                   CAR ;
                                   PAIR ;
                                   SOME ;
                                   DIG 3 ;
                                   DUP ;
                                   DUG 4 ;
                                   CDR ;
                                   UPDATE ;
                                   SWAP ;
                                   PAIR ;
                                   DUG 2 ;
                                   SWAP ;
                                   DROP ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CAR ;
                                   SWAP ;
                                   CDR ;
                                   PUSH (map timestamp (pair (map %agreements string timestamp) (timestamp %leftDate)))
                                        {} ;
                                   PUSH timestamp "0" ;
                                   PUSH (map string timestamp) {} ;
                                   NOW ;
                                   SOME ;
                                   DIG 9 ;
                                   DUP ;
                                   DUG 10 ;
                                   CAR ;
                                   UPDATE ;
                                   PAIR ;
                                   SOME ;
                                   NOW ;
                                   UPDATE ;
                                   SOME ;
                                   SENDER ;
                                   DIG 7 ;
                                   DUP ;
                                   DUG 8 ;
                                   CDR ;
                                   PAIR ;
                                   UPDATE ;
                                   SWAP ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   DUG 2 ;
                                   SWAP ;
                                   DROP ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   PUSH (list timestamp) {} ;
                                   NOW ;
                                   CONS ;
                                   SOME ;
                                   SENDER ;
                                   DIG 7 ;
                                   DUP ;
                                   DUG 8 ;
                                   CAR ;
                                   PAIR ;
                                   UPDATE ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   DUG 2 ;
                                   SWAP ;
                                   DROP ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   PUSH (list timestamp) {} ;
                                   NOW ;
                                   CONS ;
                                   SOME ;
                                   DIG 6 ;
                                   DUP ;
                                   DUG 7 ;
                                   CDR ;
                                   DIG 7 ;
                                   DUP ;
                                   DUG 8 ;
                                   CAR ;
                                   PAIR ;
                                   UPDATE ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   DUG 2 ;
                                   DROP ;
                                   DROP } }
                               { { SENDER ;
                                   DIG 2 ;
                                   DUP ;
                                   DUG 3 ;
                                   CAR ;
                                   CDR ;
                                   COMPARE ;
                                   EQ ;
                                   IF { {} }
                                      { { PUSH string "WrongCondition: self.data.manager == sp.sender" ; FAILWITH } } ;
                                   SWAP ;
                                   DUP ;
                                   DUG 2 ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CDR ;
                                   SWAP ;
                                   CAR ;
                                   DUP ;
                                   CAR ;
                                   SWAP ;
                                   CDR ;
                                   DIG 4 ;
                                   DUP ;
                                   DUG 5 ;
                                   CDR ;
                                   SOME ;
                                   DIG 5 ;
                                   DUP ;
                                   DUG 6 ;
                                   CAR ;
                                   UPDATE ;
                                   SWAP ;
                                   PAIR ;
                                   PAIR ;
                                   PAIR ;
                                   DUG 2 ;
                                   DROP ;
                                   DROP } } }
                           { { SENDER ;
                               DIG 2 ;
                               DUP ;
                               DUG 3 ;
                               CAR ;
                               CDR ;
                               COMPARE ;
                               EQ ;
                               IF { PUSH bool True }
                                  { { SWAP ; DUP ; DUG 2 ; CAR ; CAR ; CDR ; SENDER ; MEM } } ;
                               IF { {} }
                                  { { PUSH string
                                           "WrongCondition: (self.data.manager == sp.sender) | (self.data.companies.contains(sp.sender))" ;
                                      FAILWITH } } ;
                               SWAP ;
                               DUP ;
                               DUG 2 ;
                               DUP ;
                               CAR ;
                               SWAP ;
                               CDR ;
                               PUSH bool False ;
                               DIG 3 ;
                               DUP ;
                               DUG 4 ;
                               CDR ;
                               PAIR ;
                               SOME ;
                               DIG 3 ;
                               DUP ;
                               DUG 4 ;
                               CAR ;
                               UPDATE ;
                               SWAP ;
                               PAIR ;
                               DUG 2 ;
                               DROP ;
                               DROP } } }
                       { { SWAP ;
                           DUP ;
                           DUG 2 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           CDR ;
                           SENDER ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CDR ;
                           PAIR ;
                           MEM ;
                           IF { {} }
                              { { PUSH string
                                       "WrongCondition: self.data.agreements.contains((params.userAddr, sp.sender))" ;
                                  FAILWITH } } ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           CDR ;
                           GET ;
                           IF_NONE { { PUSH string "Get-item:72" ; FAILWITH } } {} ;
                           CDR ;
                           IF { { SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CAR ;
                                  CAR ;
                                  CAR ;
                                  CDR ;
                                  SENDER ;
                                  DIG 2 ;
                                  DUP ;
                                  DUG 3 ;
                                  CDR ;
                                  PAIR ;
                                  GET ;
                                  IF_NONE { { PUSH string "Get-item:73" ; FAILWITH } } {} ;
                                  SWAP ;
                                  DUP ;
                                  DUG 2 ;
                                  CAR ;
                                  MEM } }
                              { PUSH bool False } ;
                           IF { {} }
                              { { PUSH string
                                       "WrongCondition: sp.snd(self.data.users[params.userAddr]) & (self.data.agreements[(params.userAddr, sp.sender)].contains(params.joinDate))" ;
                                  FAILWITH } } ;
                           PUSH timestamp "0" ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CAR ;
                           CAR ;
                           CAR ;
                           CDR ;
                           SENDER ;
                           DIG 3 ;
                           DUP ;
                           DUG 4 ;
                           CDR ;
                           PAIR ;
                           GET ;
                           IF_NONE { { PUSH string "Get-item:75" ; FAILWITH } } {} ;
                           DIG 2 ;
                           DUP ;
                           DUG 3 ;
                           CAR ;
                           GET ;
                           IF_NONE { { PUSH string "Get-item:73" ; FAILWITH } } {} ;
                           CDR ;
                           COMPARE ;
                           EQ ;
                           IF { {} }
                              { { PUSH string
                                       "WrongCondition: self.data.agreements[(params.userAddr, sp.sender)][params.joinDate].leftDate == sp.timestamp(0)" ;
                                  FAILWITH } } ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           PUSH bool False ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           CDR ;
                           DIG 4 ;
                           DUP ;
                           DUG 5 ;
                           CDR ;
                           GET ;
                           IF_NONE { { PUSH string "Get-item:72" ; FAILWITH } } {} ;
                           CAR ;
                           PAIR ;
                           SOME ;
                           DIG 3 ;
                           DUP ;
                           DUG 4 ;
                           CDR ;
                           UPDATE ;
                           SWAP ;
                           PAIR ;
                           DUG 2 ;
                           SWAP ;
                           DROP ;
                           SWAP ;
                           DUP ;
                           DUG 2 ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CDR ;
                           SWAP ;
                           CAR ;
                           DUP ;
                           CAR ;
                           SWAP ;
                           CDR ;
                           DUP ;
                           SENDER ;
                           DIG 7 ;
                           DUP ;
                           DUG 8 ;
                           CDR ;
                           PAIR ;
                           DUP ;
                           DUG 2 ;
                           GET ;
                           IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                           DUP ;
                           DIG 8 ;
                           DUP ;
                           DUG 9 ;
                           CAR ;
                           DUP ;
                           DUG 2 ;
                           GET ;
                           IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                           CAR ;
                           NOW ;
                           SWAP ;
                           PAIR ;
                           SOME ;
                           SWAP ;
                           UPDATE ;
                           SOME ;
                           SWAP ;
                           UPDATE ;
                           SWAP ;
                           PAIR ;
                           PAIR ;
                           PAIR ;
                           PAIR ;
                           DUG 2 ;
                           DROP ;
                           DROP } } }
                   { { SENDER ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       CAR ;
                       CDR ;
                       COMPARE ;
                       EQ ;
                       IF { {} }
                          { { PUSH string "WrongCondition: self.data.manager == sp.sender" ; FAILWITH } } ;
                       SWAP ;
                       DUP ;
                       DUG 2 ;
                       DUP ;
                       CDR ;
                       SWAP ;
                       CAR ;
                       CAR ;
                       DIG 2 ;
                       DUP ;
                       DUG 3 ;
                       SWAP ;
                       PAIR ;
                       PAIR ;
                       DUG 2 ;
                       DROP ;
                       DROP } } }
               { { SWAP ;
                   DUP ;
                   DUG 2 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CDR ;
                   SENDER ;
                   DIG 2 ;
                   DUP ;
                   DUG 3 ;
                   CDR ;
                   PAIR ;
                   MEM ;
                   IF { {} }
                      { { PUSH string
                               "WrongCondition: self.data.agreements.contains((params.userAddr, sp.sender))" ;
                          FAILWITH } } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CDR ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   CDR ;
                   GET ;
                   IF_NONE { { PUSH string "Get-item:59" ; FAILWITH } } {} ;
                   CDR ;
                   IF { { SWAP ;
                          DUP ;
                          DUG 2 ;
                          CAR ;
                          CAR ;
                          CAR ;
                          CDR ;
                          SENDER ;
                          DIG 2 ;
                          DUP ;
                          DUG 3 ;
                          CDR ;
                          PAIR ;
                          GET ;
                          IF_NONE { { PUSH string "Get-item:60" ; FAILWITH } } {} ;
                          SWAP ;
                          DUP ;
                          DUG 2 ;
                          CAR ;
                          CDR ;
                          MEM } }
                      { PUSH bool False } ;
                   IF { {} }
                      { { PUSH string
                               "WrongCondition: sp.snd(self.data.users[params.userAddr]) & (self.data.agreements[(params.userAddr, sp.sender)].contains(params.joinDate))" ;
                          FAILWITH } } ;
                   PUSH timestamp "0" ;
                   DIG 2 ;
                   DUP ;
                   DUG 3 ;
                   CAR ;
                   CAR ;
                   CAR ;
                   CDR ;
                   SENDER ;
                   DIG 3 ;
                   DUP ;
                   DUG 4 ;
                   CDR ;
                   PAIR ;
                   GET ;
                   IF_NONE { { PUSH string "Get-item:62" ; FAILWITH } } {} ;
                   DIG 2 ;
                   DUP ;
                   DUG 3 ;
                   CAR ;
                   CDR ;
                   GET ;
                   IF_NONE { { PUSH string "Get-item:60" ; FAILWITH } } {} ;
                   CDR ;
                   COMPARE ;
                   EQ ;
                   IF { {} }
                      { { PUSH string
                               "WrongCondition: self.data.agreements[(params.userAddr, sp.sender)][params.joinDate].leftDate == sp.timestamp(0)" ;
                          FAILWITH } } ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CAR ;
                   SWAP ;
                   CDR ;
                   DUP ;
                   SENDER ;
                   DIG 7 ;
                   DUP ;
                   DUG 8 ;
                   CDR ;
                   PAIR ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                   DUP ;
                   DIG 8 ;
                   DUP ;
                   DUG 9 ;
                   CAR ;
                   CDR ;
                   DUP ;
                   DUG 2 ;
                   GET ;
                   IF_NONE { { PUSH string "set_in_top-any" ; FAILWITH } } {} ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   NOW ;
                   SOME ;
                   DIG 11 ;
                   DUP ;
                   DUG 12 ;
                   CAR ;
                   CAR ;
                   UPDATE ;
                   PAIR ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   SOME ;
                   SWAP ;
                   UPDATE ;
                   SWAP ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   DUG 2 ;
                   SWAP ;
                   DROP ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   PUSH (list timestamp) {} ;
                   NOW ;
                   CONS ;
                   SOME ;
                   SENDER ;
                   DIG 7 ;
                   DUP ;
                   DUG 8 ;
                   CAR ;
                   CAR ;
                   PAIR ;
                   UPDATE ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   DUG 2 ;
                   SWAP ;
                   DROP ;
                   SWAP ;
                   DUP ;
                   DUG 2 ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   DUP ;
                   CDR ;
                   SWAP ;
                   CAR ;
                   PUSH (list timestamp) {} ;
                   NOW ;
                   CONS ;
                   SOME ;
                   DIG 6 ;
                   DUP ;
                   DUG 7 ;
                   CDR ;
                   DIG 7 ;
                   DUP ;
                   DUG 8 ;
                   CAR ;
                   CAR ;
                   PAIR ;
                   UPDATE ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   PAIR ;
                   DUG 2 ;
                   DROP ;
                   DROP } } }
           { { SWAP ;
               DUP ;
               DUG 2 ;
               CDR ;
               SENDER ;
               MEM ;
               IF { PUSH bool True }
                  { { SWAP ; DUP ; DUG 2 ; CAR ; CAR ; CDR ; SENDER ; MEM } } ;
               IF { {} }
                  { { PUSH string
                           "WrongCondition: (self.data.users.contains(sp.sender)) | (self.data.companies.contains(sp.sender))" ;
                      FAILWITH } } ;
               SWAP ;
               DUP ;
               DUG 2 ;
               CDR ;
               SENDER ;
               MEM ;
               IF { { SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      SENDER ;
                      PAIR ;
                      MEM ;
                      IF { {} }
                         { { PUSH string
                                  "WrongCondition: self.data.agreements.contains((sp.sender, params.address))" ;
                             FAILWITH } } ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      SENDER ;
                      PAIR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:89" ; FAILWITH } } {} ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CDR ;
                      MEM ;
                      IF { {} }
                         { { PUSH string
                                  "WrongCondition: self.data.agreements[(sp.sender, params.address)].contains(params.joinDate)" ;
                             FAILWITH } } ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      SENDER ;
                      PAIR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:91" ; FAILWITH } } {} ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CDR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:89" ; FAILWITH } } {} ;
                      CAR ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CDR ;
                      MEM ;
                      IF { {} }
                         { { PUSH string
                                  "WrongCondition: self.data.agreements[(sp.sender, params.address)][params.joinDate].agreements.contains(params.agreementHash)" ;
                             FAILWITH } } } }
                  { { SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SENDER ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CAR ;
                      CAR ;
                      PAIR ;
                      MEM ;
                      IF { {} }
                         { { PUSH string
                                  "WrongCondition: self.data.agreements.contains((params.address, sp.sender))" ;
                             FAILWITH } } ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SENDER ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CAR ;
                      CAR ;
                      PAIR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:96" ; FAILWITH } } {} ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CDR ;
                      MEM ;
                      IF { {} }
                         { { PUSH string
                                  "WrongCondition: self.data.agreements[(params.address, sp.sender)].contains(params.joinDate)" ;
                             FAILWITH } } ;
                      PUSH timestamp "0" ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SENDER ;
                      DIG 3 ;
                      DUP ;
                      DUG 4 ;
                      CAR ;
                      CAR ;
                      PAIR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:98" ; FAILWITH } } {} ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CDR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:89" ; FAILWITH } } {} ;
                      CDR ;
                      COMPARE ;
                      NEQ ;
                      IF { { PUSH int 157680000 ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CAR ;
                             CAR ;
                             CAR ;
                             CDR ;
                             SENDER ;
                             DIG 3 ;
                             DUP ;
                             DUG 4 ;
                             CAR ;
                             CAR ;
                             PAIR ;
                             GET ;
                             IF_NONE { { PUSH string "Get-item:99" ; FAILWITH } } {} ;
                             DIG 2 ;
                             DUP ;
                             DUG 3 ;
                             CDR ;
                             GET ;
                             IF_NONE { { PUSH string "Get-item:89" ; FAILWITH } } {} ;
                             CDR ;
                             NOW ;
                             SUB ;
                             COMPARE ;
                             LT ;
                             IF { {} }
                                { { PUSH string
                                         "WrongCondition: (sp.now - self.data.agreements[(params.address, sp.sender)][params.joinDate].leftDate) < 157680000" ;
                                    FAILWITH } } } }
                         { {} } ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CAR ;
                      CAR ;
                      CDR ;
                      SENDER ;
                      DIG 2 ;
                      DUP ;
                      DUG 3 ;
                      CAR ;
                      CAR ;
                      PAIR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:101" ; FAILWITH } } {} ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CDR ;
                      GET ;
                      IF_NONE { { PUSH string "Get-item:89" ; FAILWITH } } {} ;
                      CAR ;
                      SWAP ;
                      DUP ;
                      DUG 2 ;
                      CAR ;
                      CDR ;
                      MEM ;
                      IF { {} }
                         { { PUSH string
                                  "WrongCondition: self.data.agreements[(params.address, sp.sender)][params.joinDate].agreements.contains(params.agreementHash)" ;
                             FAILWITH } } } } ;
               SWAP ;
               DUP ;
               DUG 2 ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               DUP ;
               CDR ;
               SWAP ;
               CAR ;
               DIG 6 ;
               DUP ;
               DUG 7 ;
               CAR ;
               CAR ;
               CAR ;
               CAR ;
               SENDER ;
               DIG 7 ;
               DUP ;
               DUG 8 ;
               CAR ;
               CDR ;
               PAIR ;
               GET ;
               IF_NONE { { PUSH string "Get-item:103" ; FAILWITH } } {} ;
               NOW ;
               CONS ;
               SOME ;
               SENDER ;
               DIG 7 ;
               DUP ;
               DUG 8 ;
               CAR ;
               CDR ;
               PAIR ;
               UPDATE ;
               PAIR ;
               PAIR ;
               PAIR ;
               PAIR ;
               DUG 2 ;
               DROP ;
               DROP } } ;
         NIL operation ;
         PAIR } }
